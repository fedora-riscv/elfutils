--- elfutils/backends/ChangeLog
+++ elfutils/backends/ChangeLog
@@ -33,6 +33,10 @@
 	* ppc_attrs.c (ppc_check_object_attribute): Handle tag
 	GNU_Power_ABI_Struct_Return.
 
+2009-01-23  Roland McGrath  <roland@redhat.com>
+
+	* Makefile.am (libebl_%.so): Use $(LD_AS_NEEDED).
+
 2008-10-04  Ulrich Drepper  <drepper@redhat.com>
 
 	* i386_reloc.def: Fix entries for TLS_GOTDESC, TLS_DESC_CALL, and
@@ -360,6 +364,11 @@
 	* sparc_init.c: Likewise.
 	* x86_64_init.c: Likewise.
 
+2005-11-22  Roland McGrath  <roland@redhat.com>
+
+	* Makefile.am (LD_AS_NEEDED): New variable, substituted by configure.
+	(libebl_%.so rule): Use it in place of -Wl,--as-needed.
+
 2005-11-19  Roland McGrath  <roland@redhat.com>
 
 	* ppc64_reloc.def: REL30 -> ADDR30.
@@ -382,6 +391,9 @@
 	* Makefile.am (uninstall): Don't try to remove $(pkgincludedir).
 	(CLEANFILES): Add libebl_$(m).so.
 
+	* Makefile.am (WEXTRA): New variable, substituted by configure.
+	(AM_CFLAGS): Use it in place of -Wextra.
+
 	* ppc_reloc.def: Update bits per Alan Modra <amodra@bigpond.net.au>.
 	* ppc64_reloc.def: Likewise.
 
--- elfutils/backends/Makefile.am
+++ elfutils/backends/Makefile.am
@@ -25,12 +25,14 @@
 ## <http://www.openinventionnetwork.com>.
 ##
 DEFS = -D_GNU_SOURCE -DHAVE_CONFIG_H -DOBJDIR=\"$(shell pwd)\"
+WEXTRA = @WEXTRA@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 if MUDFLAP
 AM_CFLAGS = -fmudflap
 else
 AM_CFLAGS =
 endif
-AM_CFLAGS += -fpic -Wall -Wshadow -Werror -Wunused -Wextra -Wformat=2 \
+AM_CFLAGS += -fpic -Wall -Wshadow -Werror -Wunused $(WEXTRA) -Wformat=2 \
 	     -std=gnu99
 INCLUDES = -I$(srcdir) -I$(top_srcdir)/libebl -I$(top_srcdir)/libasm \
 	   -I$(top_srcdir)/libelf -I$(top_srcdir)/libdw \
@@ -59,7 +61,6 @@ endif
 
 textrel_check = if readelf -d $@ | fgrep -q TEXTREL; then exit 1; fi
 
-
 i386_SRCS = i386_init.c i386_symbol.c i386_corenote.c \
 	    i386_retval.c i386_regs.c i386_auxv.c i386_syscall.c
 cpu_i386 = ../libcpu/libcpu_i386.a
@@ -115,7 +116,7 @@ libebl_%.so: libebl_%_pic.a libebl_%.map
 	$(LINK) -shared -o $@ -Wl,--whole-archive,$<\
 		$(cpu_$(@:libebl_%.so=%)) -Wl,--no-whole-archive \
 		-Wl,--version-script,$(word 2,$^) \
-		-Wl,-z,defs -Wl,--as-needed $(libelf) $(libdw) $(libmudflap)
+		-Wl,-z,defs $(LD_AS_NEEDED) $(libelf) $(libdw) $(libmudflap)
 	$(textrel_check)
 
 # XXX Should not be needed...
--- elfutils/backends/Makefile.in
+++ elfutils/backends/Makefile.in
@@ -158,6 +158,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
@@ -187,6 +188,7 @@ SHELL = @SHELL@
 STRIP = @STRIP@
 USE_NLS = @USE_NLS@
 VERSION = @VERSION@
+WEXTRA = @WEXTRA@
 XGETTEXT = @XGETTEXT@
 XGETTEXT_015 = @XGETTEXT_015@
 YACC = @YACC@
@@ -245,9 +247,9 @@ top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
 zip_LIBS = @zip_LIBS@
 @MUDFLAP_FALSE@AM_CFLAGS = -fpic -Wall -Wshadow -Werror -Wunused \
-@MUDFLAP_FALSE@	-Wextra -Wformat=2 -std=gnu99
+@MUDFLAP_FALSE@	$(WEXTRA) -Wformat=2 -std=gnu99
 @MUDFLAP_TRUE@AM_CFLAGS = -fmudflap -fpic -Wall -Wshadow -Werror \
-@MUDFLAP_TRUE@	-Wunused -Wextra -Wformat=2 -std=gnu99
+@MUDFLAP_TRUE@	-Wunused $(WEXTRA) -Wformat=2 -std=gnu99
 INCLUDES = -I$(srcdir) -I$(top_srcdir)/libebl -I$(top_srcdir)/libasm \
 	   -I$(top_srcdir)/libelf -I$(top_srcdir)/libdw \
 	   -I$(top_srcdir)/lib -I..
@@ -650,7 +652,7 @@ libebl_%.so: libebl_%_pic.a libebl_%.map
 	$(LINK) -shared -o $@ -Wl,--whole-archive,$<\
 		$(cpu_$(@:libebl_%.so=%)) -Wl,--no-whole-archive \
 		-Wl,--version-script,$(word 2,$^) \
-		-Wl,-z,defs -Wl,--as-needed $(libelf) $(libdw) $(libmudflap)
+		-Wl,-z,defs $(LD_AS_NEEDED) $(libelf) $(libdw) $(libmudflap)
 	$(textrel_check)
 
 # XXX Should not be needed...
--- elfutils/ChangeLog
+++ elfutils/ChangeLog
@@ -9,6 +9,8 @@
 
 2009-01-23  Roland McGrath  <roland@redhat.com>
 
+	* configure.ac: Check for __builtin_popcount.
+
 	* configure.ac (zlib check): Check for gzdirect, need zlib >= 1.2.2.3.
 
 	* configure.ac (__thread check): Use AC_LINK_IFELSE, in case of
@@ -89,6 +91,10 @@
 	* configure.ac: Add dummy automake conditional to get dependencies
 	for non-generic linker right.  See src/Makefile.am.
 
+2005-11-22  Roland McGrath  <roland@redhat.com>
+
+	* configure.ac: Check for --as-needed linker option.
+
 2005-11-18  Roland McGrath  <roland@redhat.com>
 
 	* Makefile.am (DISTCHECK_CONFIGURE_FLAGS): New variable.
@@ -136,6 +142,17 @@
 	* Makefile.am (all_SUBDIRS): Add libdwfl.
 	* configure.ac: Write libdwfl/Makefile.
 
+2005-05-31  Roland McGrath  <roland@redhat.com>
+
+	* configure.ac (WEXTRA): Check for -Wextra and set this substitution.
+
+	* configure.ac: Check for struct stat st_?tim members.
+	* src/strip.c (process_file): Use st_?time if st_?tim are not there.
+
+	* configure.ac: Check for futimes function.
+	* src/strip.c (handle_elf) [! HAVE_FUTIMES]: Use utimes instead.
+	(handle_ar) [! HAVE_FUTIMES]: Likewise.
+
 2005-05-19  Roland McGrath  <roland@redhat.com>
 
 	* configure.ac [AH_BOTTOM] (INTDECL, _INTDECL): New macros.
--- elfutils/config/Makefile.in
+++ elfutils/config/Makefile.in
@@ -73,6 +73,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
@@ -102,6 +103,7 @@ SHELL = @SHELL@
 STRIP = @STRIP@
 USE_NLS = @USE_NLS@
 VERSION = @VERSION@
+WEXTRA = @WEXTRA@
 XGETTEXT = @XGETTEXT@
 XGETTEXT_015 = @XGETTEXT_015@
 YACC = @YACC@
--- elfutils/config.h.in
+++ elfutils/config.h.in
@@ -1,5 +1,8 @@
 /* config.h.in.  Generated from configure.ac by autoheader.  */
 
+/* Have __builtin_popcount. */
+#undef HAVE_BUILTIN_POPCOUNT
+
 /* $libdir subdirectory containing libebl modules. */
 #undef LIBEBL_SUBDIR
 
@@ -52,4 +55,7 @@
 /* Define for large files, on AIX-style hosts. */
 #undef _LARGE_FILES
 
+/* Stubbed out if missing compiler support. */
+#undef __thread
+
 #include <eu-config.h>
--- elfutils/configure
+++ elfutils/configure
@@ -642,6 +642,8 @@ NATIVE_LD_FALSE
 NATIVE_LD_TRUE
 DATADIRNAME
 LOCALEDIR
+LD_AS_NEEDED
+WEXTRA
 LEXLIB
 LEX_OUTPUT_ROOT
 LEX
@@ -4041,6 +4043,152 @@ $as_echo "$as_me: error: gcc with C99 su
 fi
 
 
+{ $as_echo "$as_me:$LINENO: checking for -Wextra option to $CC" >&5
+$as_echo_n "checking for -Wextra option to $CC... " >&6; }
+if test "${ac_cv_cc_wextra+set}" = set; then
+  $as_echo_n "(cached) " >&6
+else
+  old_CFLAGS="$CFLAGS"
+CFLAGS="$CFLAGS -Wextra"
+cat >conftest.$ac_ext <<_ACEOF
+void foo (void) { }
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
+$as_echo "$ac_try_echo") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  ac_cv_cc_wextra=yes
+else
+  $as_echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_cc_wextra=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+CFLAGS="$old_CFLAGS"
+fi
+{ $as_echo "$as_me:$LINENO: result: $ac_cv_cc_wextra" >&5
+$as_echo "$ac_cv_cc_wextra" >&6; }
+
+if test "x$ac_cv_cc_wextra" = xyes; then
+  WEXTRA=-Wextra
+else
+  WEXTRA=-W
+fi
+
+
+{ $as_echo "$as_me:$LINENO: checking for --as-needed linker option" >&5
+$as_echo_n "checking for --as-needed linker option... " >&6; }
+if test "${ac_cv_as_needed+set}" = set; then
+  $as_echo_n "(cached) " >&6
+else
+  cat > conftest.c <<EOF
+int main (void) { return 0; }
+EOF
+if { ac_try='${CC-cc} $CFLAGS $CPPFLAGS $LDFLAGS
+			    -fPIC -shared -o conftest.so conftest.c
+			    -Wl,--as-needed 1>&5'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }
+then
+  ac_cv_as_needed=yes
+else
+  ac_cv_as_needed=no
+fi
+rm -f conftest*
+fi
+{ $as_echo "$as_me:$LINENO: result: $ac_cv_as_needed" >&5
+$as_echo "$ac_cv_as_needed" >&6; }
+if test "x$ac_cv_as_needed" = xyes; then
+  LD_AS_NEEDED=-Wl,--as-needed
+else
+  LD_AS_NEEDED=
+fi
+
+
+
+{ $as_echo "$as_me:$LINENO: checking for __builtin_popcount" >&5
+$as_echo_n "checking for __builtin_popcount... " >&6; }
+if test "${ac_cv_popcount+set}" = set; then
+  $as_echo_n "(cached) " >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+exit (__builtin_popcount (127));
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
+$as_echo "$ac_try_echo") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest$ac_exeext && {
+	 test "$cross_compiling" = yes ||
+	 $as_test_x conftest$ac_exeext
+       }; then
+  ac_cv_popcount=yes
+else
+  $as_echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_popcount=no
+fi
+
+rm -rf conftest.dSYM
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+fi
+{ $as_echo "$as_me:$LINENO: result: $ac_cv_popcount" >&5
+$as_echo "$ac_cv_popcount" >&6; }
+if test "x$ac_cv_popcount" = xyes; then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_BUILTIN_POPCOUNT 1
+_ACEOF
+
+fi
+
+
 { $as_echo "$as_me:$LINENO: checking for __thread support" >&5
 $as_echo_n "checking for __thread support... " >&6; }
 if test "${ac_cv_tls+set}" = set; then
@@ -4106,9 +4254,18 @@ fi
 { $as_echo "$as_me:$LINENO: result: $ac_cv_tls" >&5
 $as_echo "$ac_cv_tls" >&6; }
 if test "x$ac_cv_tls" != xyes; then
-  { { $as_echo "$as_me:$LINENO: error: __thread support required" >&5
-$as_echo "$as_me: error: __thread support required" >&2;}
+  if test "$use_locks" = yes; then
+  { { $as_echo "$as_me:$LINENO: error: --enable-thread-safety requires __thread support" >&5
+$as_echo "$as_me: error: --enable-thread-safety requires __thread support" >&2;}
    { (exit 1); exit 1; }; }
+else
+
+cat >>confdefs.h <<\_ACEOF
+#define __thread /* empty: no multi-thread support */
+_ACEOF
+
+fi
+
 fi
 
 
--- elfutils/configure.ac
+++ elfutils/configure.ac
@@ -74,6 +74,39 @@ CFLAGS="$old_CFLAGS"])
 AS_IF([test "x$ac_cv_c99" != xyes],
       AC_MSG_ERROR([gcc with C99 support required]))
 
+AC_CACHE_CHECK([for -Wextra option to $CC], ac_cv_cc_wextra, [dnl
+old_CFLAGS="$CFLAGS"
+CFLAGS="$CFLAGS -Wextra"
+AC_COMPILE_IFELSE([void foo (void) { }],
+		  ac_cv_cc_wextra=yes, ac_cv_cc_wextra=no)
+CFLAGS="$old_CFLAGS"])
+AC_SUBST(WEXTRA)
+AS_IF([test "x$ac_cv_cc_wextra" = xyes], [WEXTRA=-Wextra], [WEXTRA=-W])
+
+AC_CACHE_CHECK([for --as-needed linker option],
+	       ac_cv_as_needed, [dnl
+cat > conftest.c <<EOF
+int main (void) { return 0; }
+EOF
+if AC_TRY_COMMAND([${CC-cc} $CFLAGS $CPPFLAGS $LDFLAGS
+			    -fPIC -shared -o conftest.so conftest.c
+			    -Wl,--as-needed 1>&AS_MESSAGE_LOG_FD])
+then
+  ac_cv_as_needed=yes
+else
+  ac_cv_as_needed=no
+fi
+rm -f conftest*])
+AS_IF([test "x$ac_cv_as_needed" = xyes],
+      [LD_AS_NEEDED=-Wl,--as-needed], [LD_AS_NEEDED=])
+AC_SUBST(LD_AS_NEEDED)
+
+AC_CACHE_CHECK([for __builtin_popcount], ac_cv_popcount, [dnl
+AC_LINK_IFELSE([AC_LANG_PROGRAM([], [[exit (__builtin_popcount (127));]])],
+	       ac_cv_popcount=yes, ac_cv_popcount=no)])
+AS_IF([test "x$ac_cv_popcount" = xyes],
+      [AC_DEFINE([HAVE_BUILTIN_POPCOUNT], [1], [Have __builtin_popcount.])])
+
 AC_CACHE_CHECK([for __thread support], ac_cv_tls, [dnl
 # Use the same flags that we use for our DSOs, so the test is representative.
 # Some old compiler/linker/libc combinations fail some ways and not others.
@@ -89,7 +122,10 @@ static __thread int a; int foo (int b) {
 CFLAGS="$save_CFLAGS"
 LDFLAGS="$save_LDFLAGS"])
 AS_IF([test "x$ac_cv_tls" != xyes],
-      AC_MSG_ERROR([__thread support required]))
+      [AS_IF([test "$use_locks" = yes],
+	     [AC_MSG_ERROR([--enable-thread-safety requires __thread support])],
+	     [AC_DEFINE([__thread], [/* empty: no multi-thread support */],
+			[Stubbed out if missing compiler support.])])])
 
 LOCALEDIR=$datadir
 AC_SUBST(LOCALEDIR)
--- elfutils/lib/ChangeLog
+++ elfutils/lib/ChangeLog
@@ -1,5 +1,8 @@
 2009-01-23  Roland McGrath  <roland@redhat.com>
 
+	* eu-config.h [! HAVE_BUILTIN_POPCOUNT]
+	(__builtin_popcount): New inline function.
+
 	* eu-config.h: Add multiple inclusion protection.
 
 2009-01-17  Ulrich Drepper  <drepper@redhat.com>
@@ -56,6 +59,11 @@
 	* Makefile.am (libeu_a_SOURCES): Add it.
 	* system.h: Declare crc32_file.
 
+2005-02-07  Roland McGrath  <roland@redhat.com>
+
+	* Makefile.am (WEXTRA): New variable, substituted by configure.
+	(AM_CFLAGS): Use it in place of -Wextra.
+
 2005-04-30  Ulrich Drepper  <drepper@redhat.com>
 
 	* Makefile.am: Use -ffunction-sections for xmalloc.c.
--- elfutils/lib/eu-config.h
+++ elfutils/lib/eu-config.h
@@ -182,5 +182,16 @@ asm (".section predict_data, \"aw\"; .pr
 /* This macro is used by the tests conditionalize for standalone building.  */
 #define ELFUTILS_HEADER(name) <lib##name.h>
 
+#ifndef HAVE_BUILTIN_POPCOUNT
+# define __builtin_popcount hakmem_popcount
+static inline unsigned int __attribute__ ((unused))
+hakmem_popcount (unsigned int x)
+{
+  /* HAKMEM 169 */
+  unsigned int n = x - ((x >> 1) & 033333333333) - ((x >> 2) & 011111111111);
+  return ((n + (n >> 3)) & 030707070707) % 63;
+}
+#endif	/* HAVE_BUILTIN_POPCOUNT */
+
 
 #endif	/* eu-config.h */
--- elfutils/lib/Makefile.am
+++ elfutils/lib/Makefile.am
@@ -25,12 +25,13 @@
 ## <http://www.openinventionnetwork.com>.
 ##
 DEFS = -D_GNU_SOURCE -DHAVE_CONFIG_H
+WEXTRA = @WEXTRA@
 if MUDFLAP
 AM_CFLAGS = -fmudflap
 else
 AM_CFLAGS =
 endif
-AM_CFLAGS += -fpic -Wall -Wshadow -Werror -Wunused -Wextra $($(*F)_CFLAGS)
+AM_CFLAGS += -fpic -Wall -Wshadow -Werror -Wunused $(WEXTRA) $($(*F)_CFLAGS)
 INCLUDES = -I$(srcdir)/../libelf -I..
 
 noinst_LIBRARIES = libeu.a
--- elfutils/lib/Makefile.in
+++ elfutils/lib/Makefile.in
@@ -94,6 +94,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
@@ -123,6 +124,7 @@ SHELL = @SHELL@
 STRIP = @STRIP@
 USE_NLS = @USE_NLS@
 VERSION = @VERSION@
+WEXTRA = @WEXTRA@
 XGETTEXT = @XGETTEXT@
 XGETTEXT_015 = @XGETTEXT_015@
 YACC = @YACC@
@@ -181,9 +183,9 @@ top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
 zip_LIBS = @zip_LIBS@
 @MUDFLAP_FALSE@AM_CFLAGS = -fpic -Wall -Wshadow -Werror -Wunused \
-@MUDFLAP_FALSE@	-Wextra $($(*F)_CFLAGS)
+@MUDFLAP_FALSE@	$(WEXTRA) $($(*F)_CFLAGS)
 @MUDFLAP_TRUE@AM_CFLAGS = -fmudflap -fpic -Wall -Wshadow -Werror \
-@MUDFLAP_TRUE@	-Wunused -Wextra $($(*F)_CFLAGS)
+@MUDFLAP_TRUE@	-Wunused $(WEXTRA) $($(*F)_CFLAGS)
 INCLUDES = -I$(srcdir)/../libelf -I..
 noinst_LIBRARIES = libeu.a
 libeu_a_SOURCES = xstrndup.c xmalloc.c next_prime.c \
--- elfutils/libasm/ChangeLog
+++ elfutils/libasm/ChangeLog
@@ -63,6 +63,11 @@
 	* asm_error.c: Add new error ASM_E_IOERROR.
 	* libasmP.h: Add ASM_E_IOERROR definition.
 
+2005-05-31  Roland McGrath  <roland@redhat.com>
+
+	* Makefile.am (WEXTRA): New variable, substituted by configure.
+	(AM_CFLAGS): Use it in place of -Wextra.
+
 2005-02-15  Ulrich Drepper  <drepper@redhat.com>
 
 	* Makefile.am (AM_CFLAGS): Add -Wunused -Wextra -Wformat=2.
--- elfutils/libasm/Makefile.am
+++ elfutils/libasm/Makefile.am
@@ -25,12 +25,13 @@
 ## <http://www.openinventionnetwork.com>.
 ##
 DEFS = -D_GNU_SOURCE -DHAVE_CONFIG_H
+WEXTRA = @WEXTRA@
 if MUDFLAP
 AM_CFLAGS = -fmudflap
 else
 AM_CFLAGS =
 endif
-AM_CFLAGS += -std=gnu99 -Wall -Wshadow -Werror -Wunused -Wextra -Wformat=2
+AM_CFLAGS += -std=gnu99 -Wall -Wshadow -Werror -Wunused $(WEXTRA) -Wformat=2
 INCLUDES = -I. -I$(srcdir) -I.. \
 	   -I$(top_srcdir)/libelf -I$(top_srcdir)/libebl -I$(top_srcdir)/libdw\
 	   -I$(top_srcdir)/lib
--- elfutils/libasm/Makefile.in
+++ elfutils/libasm/Makefile.in
@@ -128,6 +128,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
@@ -157,6 +158,7 @@ SHELL = @SHELL@
 STRIP = @STRIP@
 USE_NLS = @USE_NLS@
 VERSION = 1
+WEXTRA = @WEXTRA@
 XGETTEXT = @XGETTEXT@
 XGETTEXT_015 = @XGETTEXT_015@
 YACC = @YACC@
@@ -215,9 +217,9 @@ top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
 zip_LIBS = @zip_LIBS@
 @MUDFLAP_FALSE@AM_CFLAGS = -std=gnu99 -Wall -Wshadow -Werror -Wunused \
-@MUDFLAP_FALSE@	-Wextra -Wformat=2
+@MUDFLAP_FALSE@	$(WEXTRA) -Wformat=2
 @MUDFLAP_TRUE@AM_CFLAGS = -fmudflap -std=gnu99 -Wall -Wshadow -Werror \
-@MUDFLAP_TRUE@	-Wunused -Wextra -Wformat=2
+@MUDFLAP_TRUE@	-Wunused $(WEXTRA) -Wformat=2
 INCLUDES = -I. -I$(srcdir) -I.. \
 	   -I$(top_srcdir)/libelf -I$(top_srcdir)/libebl -I$(top_srcdir)/libdw\
 	   -I$(top_srcdir)/lib
--- elfutils/libcpu/ChangeLog
+++ elfutils/libcpu/ChangeLog
@@ -5,6 +5,9 @@
 
 2009-01-23  Roland McGrath  <roland@redhat.com>
 
+	* i386_disasm.c (i386_disasm): Add abort after assert-constant for old
+	compilers that don't realize it's noreturn.
+
 	* Makefile.am (i386_parse_CFLAGS): Use quotes around command
 	substitution that can produce leading whitespace.
 
@@ -334,6 +337,11 @@
 	* defs/i386.doc: New file.
 	* defs/x86_64: New file.
 
+2005-04-04  Roland McGrath  <roland@redhat.com>
+
+	* Makefile.am (WEXTRA): New variable, substituted by configure.
+	(AM_CFLAGS): Use it instead of -Wextra.
+
 2005-02-15  Ulrich Drepper  <drepper@redhat.com>
 
 	* Makefile (AM_CFLAGS): Add -Wunused -Wextra -Wformat=2.
--- elfutils/libcpu/i386_disasm.c
+++ elfutils/libcpu/i386_disasm.c
@@ -791,6 +791,7 @@ i386_disasm (const uint8_t **startp, con
 
 			default:
 			  assert (! "INVALID not handled");
+			  abort ();
 			}
 		    }
 		  else
--- elfutils/libcpu/Makefile.am
+++ elfutils/libcpu/Makefile.am
@@ -30,7 +30,8 @@ AM_CFLAGS = -fmudflap
 else
 AM_CFLAGS =
 endif
-AM_CFLAGS += -Wall -Wshadow -Wunused -Wextra -std=gnu99 -fpic \
+WEXTRA = @WEXTRA@
+AM_CFLAGS += -Wall -Wshadow -Wunused $(WEXTRA) -std=gnu99 -fpic \
 	     -fdollars-in-identifiers \
 	     $($(*F)_CFLAGS) \
 	     $(if $($(*F)_no_Werror),,-Werror)
--- elfutils/libcpu/Makefile.in
+++ elfutils/libcpu/Makefile.in
@@ -110,6 +110,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = lex.$(<F:lex.l=)
@@ -139,6 +140,7 @@ SHELL = @SHELL@
 STRIP = @STRIP@
 USE_NLS = @USE_NLS@
 VERSION = @VERSION@
+WEXTRA = @WEXTRA@
 XGETTEXT = @XGETTEXT@
 XGETTEXT_015 = @XGETTEXT_015@
 YACC = @YACC@
@@ -196,10 +198,11 @@ top_build_prefix = @top_build_prefix@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
 zip_LIBS = @zip_LIBS@
-@MUDFLAP_FALSE@AM_CFLAGS = -Wall -Wshadow -Wunused -Wextra -std=gnu99 \
-@MUDFLAP_FALSE@	-fpic -fdollars-in-identifiers $($(*F)_CFLAGS) \
-@MUDFLAP_FALSE@	$(if $($(*F)_no_Werror),,-Werror)
-@MUDFLAP_TRUE@AM_CFLAGS = -fmudflap -Wall -Wshadow -Wunused -Wextra \
+@MUDFLAP_FALSE@AM_CFLAGS = -Wall -Wshadow -Wunused $(WEXTRA) \
+@MUDFLAP_FALSE@	-std=gnu99 -fpic -fdollars-in-identifiers \
+@MUDFLAP_FALSE@	$($(*F)_CFLAGS) $(if \
+@MUDFLAP_FALSE@	$($(*F)_no_Werror),,-Werror)
+@MUDFLAP_TRUE@AM_CFLAGS = -fmudflap -Wall -Wshadow -Wunused $(WEXTRA) \
 @MUDFLAP_TRUE@	-std=gnu99 -fpic -fdollars-in-identifiers \
 @MUDFLAP_TRUE@	$($(*F)_CFLAGS) $(if \
 @MUDFLAP_TRUE@	$($(*F)_no_Werror),,-Werror)
--- elfutils/libdw/ChangeLog
+++ elfutils/libdw/ChangeLog
@@ -571,6 +571,11 @@
 
 2005-05-31  Roland McGrath  <roland@redhat.com>
 
+	* Makefile.am (WEXTRA): New variable, substituted by configure.
+	(AM_CFLAGS): Use it in place of -Wextra.
+
+2005-05-31  Roland McGrath  <roland@redhat.com>
+
 	* dwarf_formref_die.c (dwarf_formref_die): Add CU header offset to
 	formref offset.
 
--- elfutils/libdw/Makefile.am
+++ elfutils/libdw/Makefile.am
@@ -25,6 +25,7 @@
 ## <http://www.openinventionnetwork.com>.
 ##
 DEFS = -D_GNU_SOURCE -DHAVE_CONFIG_H -DIS_LIBDW
+WEXTRA = @WEXTRA@
 if MUDFLAP
 AM_CFLAGS = -fmudflap
 else
@@ -33,7 +34,7 @@ endif
 if BUILD_STATIC
 AM_CFLAGS += -fpic
 endif
-AM_CFLAGS += -Wall -Werror -Wshadow -Wunused -Wformat=2 -Wextra -std=gnu99
+AM_CFLAGS += -Wall -Werror -Wshadow -Wunused -Wformat=2 $(WEXTRA) -std=gnu99
 INCLUDES = -I. -I$(srcdir) -I$(srcdir)/../libelf -I.. -I$(srcdir)/../lib
 VERSION = 1
 
--- elfutils/libdw/Makefile.in
+++ elfutils/libdw/Makefile.in
@@ -165,6 +165,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
@@ -194,6 +195,7 @@ SHELL = @SHELL@
 STRIP = @STRIP@
 USE_NLS = @USE_NLS@
 VERSION = 1
+WEXTRA = @WEXTRA@
 XGETTEXT = @XGETTEXT@
 XGETTEXT_015 = @XGETTEXT_015@
 YACC = @YACC@
@@ -252,9 +254,10 @@ top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
 zip_LIBS = @zip_LIBS@
 @MUDFLAP_FALSE@AM_CFLAGS = $(am__append_1) -Wall -Werror -Wshadow \
-@MUDFLAP_FALSE@	-Wunused -Wformat=2 -Wextra -std=gnu99
+@MUDFLAP_FALSE@	-Wunused -Wformat=2 $(WEXTRA) -std=gnu99
 @MUDFLAP_TRUE@AM_CFLAGS = -fmudflap $(am__append_1) -Wall -Werror \
-@MUDFLAP_TRUE@	-Wshadow -Wunused -Wformat=2 -Wextra -std=gnu99
+@MUDFLAP_TRUE@	-Wshadow -Wunused -Wformat=2 $(WEXTRA) \
+@MUDFLAP_TRUE@	-std=gnu99
 INCLUDES = -I. -I$(srcdir) -I$(srcdir)/../libelf -I.. -I$(srcdir)/../lib
 COMPILE.os = $(filter-out -fprofile-arcs, $(filter-out -ftest-coverage, \
 						       $(COMPILE)))
--- elfutils/libdwfl/ChangeLog
+++ elfutils/libdwfl/ChangeLog
@@ -1076,6 +1076,11 @@
 
 2005-07-21  Roland McGrath  <roland@redhat.com>
 
+	* Makefile.am (WEXTRA): New variable, substituted by configure.
+	(AM_CFLAGS): Use it in place of -Wextra.
+
+2005-07-21  Roland McGrath  <roland@redhat.com>
+
 	* Makefile.am (noinst_HEADERS): Add loc2c.c.
 
 	* test2.c (main): Check sscanf result to quiet warning.
--- elfutils/libdwfl/Makefile.am
+++ elfutils/libdwfl/Makefile.am
@@ -27,12 +27,13 @@
 ## <http://www.openinventionnetwork.com>.
 ##
 DEFS = -D_GNU_SOURCE -DHAVE_CONFIG_H
+WEXTRA = @WEXTRA@
 if MUDFLAP
 AM_CFLAGS = -fmudflap
 else
 AM_CFLAGS =
 endif
-AM_CFLAGS += -Wall -Werror -Wshadow -Wunused -Wformat=2 -Wextra -std=gnu99
+AM_CFLAGS += -Wall -Werror -Wshadow -Wunused -Wformat=2 $(WEXTRA) -std=gnu99
 INCLUDES = -I. -I$(srcdir) -I$(srcdir)/../libelf -I$(srcdir)/../libebl \
 	   -I$(srcdir)/../libdw -I.. -I$(srcdir)/../lib
 VERSION = 1
--- elfutils/libdwfl/Makefile.in
+++ elfutils/libdwfl/Makefile.in
@@ -156,6 +156,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
@@ -185,6 +186,7 @@ SHELL = @SHELL@
 STRIP = @STRIP@
 USE_NLS = @USE_NLS@
 VERSION = 1
+WEXTRA = @WEXTRA@
 XGETTEXT = @XGETTEXT@
 XGETTEXT_015 = @XGETTEXT_015@
 YACC = @YACC@
@@ -243,9 +245,9 @@ top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
 zip_LIBS = @zip_LIBS@
 @MUDFLAP_FALSE@AM_CFLAGS = -Wall -Werror -Wshadow -Wunused -Wformat=2 \
-@MUDFLAP_FALSE@	-Wextra -std=gnu99
+@MUDFLAP_FALSE@	$(WEXTRA) -std=gnu99
 @MUDFLAP_TRUE@AM_CFLAGS = -fmudflap -Wall -Werror -Wshadow -Wunused \
-@MUDFLAP_TRUE@	-Wformat=2 -Wextra -std=gnu99
+@MUDFLAP_TRUE@	-Wformat=2 $(WEXTRA) -std=gnu99
 INCLUDES = -I. -I$(srcdir) -I$(srcdir)/../libelf -I$(srcdir)/../libebl \
 	   -I$(srcdir)/../libdw -I.. -I$(srcdir)/../lib
 
--- elfutils/libebl/ChangeLog
+++ elfutils/libebl/ChangeLog
@@ -569,6 +569,11 @@
 	* Makefile.am (libebl_*_so_SOURCES): Set to $(*_SRCS) so dependency
 	tracking works right.
 
+2005-05-31  Roland McGrath  <roland@redhat.com>
+
+	* Makefile.am (WEXTRA): New variable, substituted by configure.
+	(AM_CFLAGS): Use it in place of -Wextra.
+
 2005-05-21  Ulrich Drepper  <drepper@redhat.com>
 
 	* libebl_x86_64.map: Add x86_64_core_note.
--- elfutils/libebl/Makefile.am
+++ elfutils/libebl/Makefile.am
@@ -25,12 +25,13 @@
 ## <http://www.openinventionnetwork.com>.
 ##
 DEFS = -D_GNU_SOURCE -DHAVE_CONFIG_H -DOBJDIR=\"$(shell pwd)\"
+WEXTRA = @WEXTRA@
 if MUDFLAP
 AM_CFLAGS = -fmudflap
 else
 AM_CFLAGS =
 endif
-AM_CFLAGS += -fpic -Wall -Wshadow -Werror -Wunused -Wextra -Wformat=2 \
+AM_CFLAGS += -fpic -Wall -Wshadow -Werror -Wunused $(WEXTRA) -Wformat=2 \
 	     -std=gnu99
 
 INCLUDES = -I$(srcdir) -I$(top_srcdir)/libelf -I$(top_srcdir)/libdw \
--- elfutils/libebl/Makefile.in
+++ elfutils/libebl/Makefile.in
@@ -124,6 +124,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
@@ -153,6 +154,7 @@ SHELL = @SHELL@
 STRIP = @STRIP@
 USE_NLS = @USE_NLS@
 VERSION = 1
+WEXTRA = @WEXTRA@
 XGETTEXT = @XGETTEXT@
 XGETTEXT_015 = @XGETTEXT_015@
 YACC = @YACC@
@@ -211,9 +213,9 @@ top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
 zip_LIBS = @zip_LIBS@
 @MUDFLAP_FALSE@AM_CFLAGS = -fpic -Wall -Wshadow -Werror -Wunused \
-@MUDFLAP_FALSE@	-Wextra -Wformat=2 -std=gnu99
+@MUDFLAP_FALSE@	$(WEXTRA) -Wformat=2 -std=gnu99
 @MUDFLAP_TRUE@AM_CFLAGS = -fmudflap -fpic -Wall -Wshadow -Werror \
-@MUDFLAP_TRUE@	-Wunused -Wextra -Wformat=2 -std=gnu99
+@MUDFLAP_TRUE@	-Wunused $(WEXTRA) -Wformat=2 -std=gnu99
 INCLUDES = -I$(srcdir) -I$(top_srcdir)/libelf -I$(top_srcdir)/libdw \
 	   -I$(top_srcdir)/lib -I.. -I$(srcdir)/../libasm
 
--- elfutils/libelf/ChangeLog
+++ elfutils/libelf/ChangeLog
@@ -537,6 +537,11 @@
 
 	* elf.h: Update from glibc.
 
+2005-05-31  Roland McGrath  <roland@redhat.com>
+
+	* Makefile.am (WEXTRA): New variable, substituted by configure.
+	(AM_CFLAGS): Use it in place of -Wextra.
+
 2005-05-08  Roland McGrath  <roland@redhat.com>
 
 	* elf_begin.c (read_file) [_MUDFLAP]: Don't use mmap for now.
--- elfutils/libelf/common.h
+++ elfutils/libelf/common.h
@@ -160,7 +160,7 @@ libelf_release_all (Elf *elf)
   (Var) = (sizeof (Var) == 1						      \
 	   ? (unsigned char) (Var)					      \
 	   : (sizeof (Var) == 2						      \
-	      ? bswap_16 (Var)						      \
+	      ? (unsigned short int) bswap_16 (Var)			      \
 	      : (sizeof (Var) == 4					      \
 		 ? bswap_32 (Var)					      \
 		 : bswap_64 (Var))))
@@ -169,7 +169,7 @@ libelf_release_all (Elf *elf)
   (Dst) = (sizeof (Var) == 1						      \
 	   ? (unsigned char) (Var)					      \
 	   : (sizeof (Var) == 2						      \
-	      ? bswap_16 (Var)						      \
+	      ? (unsigned short int) bswap_16 (Var)			      \
 	      : (sizeof (Var) == 4					      \
 		 ? bswap_32 (Var)					      \
 		 : bswap_64 (Var))))
--- elfutils/libelf/Makefile.am
+++ elfutils/libelf/Makefile.am
@@ -25,6 +25,7 @@
 ## <http://www.openinventionnetwork.com>.
 ##
 DEFS = -D_GNU_SOURCE -DHAVE_CONFIG_H
+WEXTRA = @WEXTRA@
 if MUDFLAP
 AM_CFLAGS = -fmudflap
 else
@@ -33,7 +34,7 @@ endif
 if BUILD_STATIC
 AM_CFLAGS += -fpic
 endif
-AM_CFLAGS += -Wall -Wshadow -Werror -Wunused -Wextra -Wformat=2 -std=gnu99 \
+AM_CFLAGS += -Wall -Wshadow -Werror -Wunused $(WEXTRA) -Wformat=2 -std=gnu99 \
 	     $($(*F)_CFLAGS)
 INCLUDES = -I$(srcdir) -I$(top_srcdir)/lib -I..
 GCC_INCLUDE = -I$(shell $(CC) -print-file-name=include)
--- elfutils/libelf/Makefile.in
+++ elfutils/libelf/Makefile.in
@@ -172,6 +172,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
@@ -201,6 +202,7 @@ SHELL = @SHELL@
 STRIP = @STRIP@
 USE_NLS = @USE_NLS@
 VERSION = 1
+WEXTRA = @WEXTRA@
 XGETTEXT = @XGETTEXT@
 XGETTEXT_015 = @XGETTEXT_015@
 YACC = @YACC@
@@ -259,10 +261,10 @@ top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
 zip_LIBS = @zip_LIBS@
 @MUDFLAP_FALSE@AM_CFLAGS = $(am__append_1) -Wall -Wshadow -Werror \
-@MUDFLAP_FALSE@	-Wunused -Wextra -Wformat=2 -std=gnu99 \
+@MUDFLAP_FALSE@	-Wunused $(WEXTRA) -Wformat=2 -std=gnu99 \
 @MUDFLAP_FALSE@	$($(*F)_CFLAGS)
 @MUDFLAP_TRUE@AM_CFLAGS = -fmudflap $(am__append_1) -Wall -Wshadow \
-@MUDFLAP_TRUE@	-Werror -Wunused -Wextra -Wformat=2 -std=gnu99 \
+@MUDFLAP_TRUE@	-Werror -Wunused $(WEXTRA) -Wformat=2 -std=gnu99 \
 @MUDFLAP_TRUE@	$($(*F)_CFLAGS)
 INCLUDES = -I$(srcdir) -I$(top_srcdir)/lib -I..
 GCC_INCLUDE = -I$(shell $(CC) -print-file-name=include)
--- elfutils/m4/Makefile.in
+++ elfutils/m4/Makefile.in
@@ -72,6 +72,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
@@ -101,6 +102,7 @@ SHELL = @SHELL@
 STRIP = @STRIP@
 USE_NLS = @USE_NLS@
 VERSION = @VERSION@
+WEXTRA = @WEXTRA@
 XGETTEXT = @XGETTEXT@
 XGETTEXT_015 = @XGETTEXT_015@
 YACC = @YACC@
--- elfutils/Makefile.in
+++ elfutils/Makefile.in
@@ -110,6 +110,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
@@ -139,6 +140,7 @@ SHELL = @SHELL@
 STRIP = @STRIP@
 USE_NLS = @USE_NLS@
 VERSION = @VERSION@
+WEXTRA = @WEXTRA@
 XGETTEXT = @XGETTEXT@
 XGETTEXT_015 = @XGETTEXT_015@
 YACC = @YACC@
--- elfutils/po/es.po
+++ elfutils/po/es.po
@@ -1,14 +1,10 @@
-# Fedora Spanish Translation of elfutils.
-# Domingo Becker <domingobecker@gmail.com>, 2009.
-# H√©ctor Daniel Cabrera <h.daniel.cabrera@gmail.com>, 2009.
-#
 msgid ""
 msgstr ""
 "Project-Id-Version: elfutils\n"
 "Report-Msgid-Bugs-To: http://bugzilla.redhat.com/\n"
-"POT-Creation-Date: 2009-04-24 14:08+0000\n"
+"POT-Creation-Date: 2009-04-09 14:04+0000\n"
 "PO-Revision-Date: \n"
-"Last-Translator: H√©ctor Daniel Cabrera <h.daniel.cabrera@gmail.com>\n"
+"Last-Translator: Claudio Rodrigo Pereyra Diaz <claudio@pereyradiaz.com.ar>\n"
 "Language-Team: Fedora Spanish <fedora-trans-es@redhat.com>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
@@ -19,7 +15,7 @@ msgstr ""
 #: ../lib/xmalloc.c:65
 #: ../lib/xmalloc.c:79
 #: ../src/readelf.c:2703
-#: ../src/readelf.c:3041
+#: ../src/readelf.c:3038
 #: ../src/unstrip.c:2086
 #: ../src/unstrip.c:2294
 #, c-format
@@ -60,7 +56,7 @@ msgid "invalid size of destination opera
 msgstr "tama√±o inv√°lido del operando destino"
 
 #: ../libelf/elf_error.c:108
-#: ../src/readelf.c:4592
+#: ../src/readelf.c:4589
 #, c-format
 msgid "invalid encoding"
 msgstr "codificaci√≥n inv√°lida"
@@ -96,7 +92,7 @@ msgstr "desplazamiento fuera de rango"
 
 #: ../libelf/elf_error.c:136
 msgid "invalid fmag field in archive header"
-msgstr "campo fmag no v√°lido en el encabezado del archivo"
+msgstr ""
 
 #: ../libelf/elf_error.c:140
 msgid "invalid archive file"
@@ -136,7 +132,7 @@ msgstr "secci√≥n inv√°lida"
 
 #: ../libelf/elf_error.c:180
 msgid "executable header not created first"
-msgstr "no se ha creado primero el encabezado ejecutable"
+msgstr ""
 
 #: ../libelf/elf_error.c:184
 msgid "file descriptor disabled"
@@ -159,8 +155,8 @@ msgid "invalid section header"
 msgstr "cabecera de secci√≥n inv√°lida"
 
 #: ../libelf/elf_error.c:208
-#: ../src/readelf.c:6062
-#: ../src/readelf.c:6163
+#: ../src/readelf.c:6055
+#: ../src/readelf.c:6156
 #, c-format
 msgid "invalid data"
 msgstr "datos inv√°lidos"
@@ -171,7 +167,7 @@ msgstr "codificaci√≥n de caracteres desc
 
 #: ../libelf/elf_error.c:216
 msgid "section `sh_size' too small for data"
-msgstr "el tama√±o de la secci√≥n `sh_size' es demasiado peque√±o para los datos "
+msgstr ""
 
 #: ../libelf/elf_error.c:220
 msgid "invalid section alignment"
@@ -183,7 +179,7 @@ msgstr "tama√±o de la entrada de la secc
 
 #: ../libelf/elf_error.c:228
 msgid "update() for write on read-only file"
-msgstr "update() para escribir sobre archivo de s√≥lo lectura"
+msgstr ""
 
 #: ../libelf/elf_error.c:232
 msgid "no such file"
@@ -191,11 +187,11 @@ msgstr "no hay tal archivo"
 
 #: ../libelf/elf_error.c:236
 msgid "only relocatable files can contain section groups"
-msgstr "solo los archivos realojables pueden contener grupos de secci√≥n"
+msgstr ""
 
 #: ../libelf/elf_error.c:241
 msgid "program header only allowed in executables, shared objects, and core files"
-msgstr "los encabezados de los programas solo son permitidos en archivos ejecutables, archivos principales, u objetos compartidos"
+msgstr ""
 
 #: ../libelf/elf_error.c:248
 msgid "file has no program header"
@@ -415,19 +411,19 @@ msgstr "directorio NULL en find_file"
 
 #: ../libdwfl/argp-std.c:70
 msgid "Find addresses from signatures found in COREFILE"
-msgstr "Busca direcciones desde firmas encontradas en COREFILE"
+msgstr ""
 
 #: ../libdwfl/argp-std.c:72
 msgid "Find addresses in files mapped into process PID"
-msgstr "Busca direcciones en archivos mapeados sobre procesos PID"
+msgstr ""
 
 #: ../libdwfl/argp-std.c:74
 msgid "Find addresses in files mapped as read from FILE in Linux /proc/PID/maps format"
-msgstr "Busca direcciones en archivos mapeados como le√≠dos desde FILE en formato Linux /proc/PID/maps"
+msgstr ""
 
 #: ../libdwfl/argp-std.c:76
 msgid "Find addresses in the running kernel"
-msgstr "Busca direcciones en el kernel que est√° ejecut√°ndose"
+msgstr ""
 
 #: ../libdwfl/argp-std.c:78
 #, fuzzy
@@ -436,7 +432,7 @@ msgstr "Reemplazar todos los &espacios c
 
 #: ../libdwfl/argp-std.c:80
 msgid "Search path for separate debuginfo files"
-msgstr "Busca caminos para deferentes arhivos debugingfo"
+msgstr ""
 
 #: ../libdwfl/argp-std.c:163
 #, fuzzy
@@ -635,7 +631,7 @@ msgstr "`N' s√≥lo tiene significado con 
 #: ../src/ar.c:197
 #, c-format
 msgid "MEMBER parameter required for 'a', 'b', and 'i' modifiers"
-msgstr "Los modificadres 'a', 'b', e 'i', requieren par√°metros MEMBR"
+msgstr ""
 
 #: ../src/ar.c:213
 #, fuzzy, c-format
@@ -669,7 +665,7 @@ msgstr "%s: se requiere un nombre de se√
 #: ../src/strip.c:203
 #: ../src/ld.c:957
 #: ../src/elflint.c:238
-#: ../src/addr2line.c:185
+#: ../src/addr2line.c:180
 #: ../src/findtextrel.c:170
 #: ../src/elfcmp.c:522
 #: ../src/ranlib.c:136
@@ -682,9 +678,6 @@ msgid ""
 "This is free software; see the source for copying conditions.  There is NO\n"
 "warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n"
 msgstr ""
-"Copyright (C) %s Red Hat, Inc.\n"
-"El siguiente es un software libre; consulte el c√≥digo para conocer las condiciones de copiado. NO TIENE\n"
-"garant√≠a, ni siquiera para SU COMERCIALIZACION o PARA SER USADO CON UN FIN DETERMINADO.\n"
 
 #: ../src/ar.c:294
 #: ../src/nm.c:258
@@ -693,7 +686,7 @@ msgstr ""
 #: ../src/strip.c:208
 #: ../src/ld.c:962
 #: ../src/elflint.c:243
-#: ../src/addr2line.c:190
+#: ../src/addr2line.c:185
 #: ../src/findtextrel.c:175
 #: ../src/elfcmp.c:527
 #: ../src/ranlib.c:141
@@ -867,7 +860,7 @@ msgstr "Extra√±amente s√≥lo hay %d parti
 
 #: ../src/nm.c:79
 msgid "Display dynamic symbols instead of normal symbols"
-msgstr "Muestra s√≠mbolos din√°micos en lugar de s√≠mbolos normales"
+msgstr ""
 
 #: ../src/nm.c:80
 #, fuzzy
@@ -881,7 +874,7 @@ msgstr "Mostrar s√≥lo cuando el adaptado
 
 #: ../src/nm.c:83
 msgid "Include index for symbols from archive members"
-msgstr "Incluye √≠ndices para s√≠mbolos desde miembros de archivo"
+msgstr ""
 
 #: ../src/nm.c:85
 #: ../src/size.c:66
@@ -895,7 +888,7 @@ msgstr "Imprimir el nombre del archivo d
 
 #: ../src/nm.c:90
 msgid "Use the output format FORMAT.  FORMAT can be `bsd', `sysv' or `posix'.  The default is `sysv'"
-msgstr "Use el formato de salida FORMAT. FORMAT puede ser o bien `bsd', o `sysv', o `posix'. El establecido por defecto es `sysv'"
+msgstr ""
 
 #: ../src/nm.c:92
 #, fuzzy
@@ -910,7 +903,7 @@ msgstr "lo mismo que --format=posix"
 #: ../src/nm.c:94
 #: ../src/size.c:72
 msgid "Use RADIX for printing symbol values"
-msgstr "Utilice RADIX para imprimir valores de s√≠mbolo"
+msgstr ""
 
 #: ../src/nm.c:95
 #, fuzzy
@@ -946,7 +939,7 @@ msgid "Reverse the sense of the sort"
 msgstr "_Invertir orden"
 
 #: ../src/nm.c:103
-#: ../src/addr2line.c:75
+#: ../src/addr2line.c:73
 #: ../src/findtextrel.c:75
 #: ../src/elfcmp.c:75
 #: ../src/strings.c:83
@@ -1002,7 +995,7 @@ msgstr ""
 #: ../src/size.c:317
 #: ../src/size.c:326
 #: ../src/size.c:337
-#: ../src/strip.c:1815
+#: ../src/strip.c:1814
 #, fuzzy, c-format
 msgid "while closing '%s'"
 msgstr "error al cerrar la entrada `%s'"
@@ -1065,17 +1058,17 @@ msgstr "No se puede crear el componente 
 #: ../src/readelf.c:2722
 #: ../src/readelf.c:2758
 #: ../src/readelf.c:2820
-#: ../src/readelf.c:6312
-#: ../src/readelf.c:7178
-#: ../src/readelf.c:7323
-#: ../src/readelf.c:7392
+#: ../src/readelf.c:6305
+#: ../src/readelf.c:7171
+#: ../src/readelf.c:7316
+#: ../src/readelf.c:7385
 #: ../src/size.c:425
 #: ../src/size.c:499
 #: ../src/strip.c:482
 #: ../src/objdump.c:744
-#, fuzzy, c-format
+#, c-format
 msgid "cannot get section header string table index"
-msgstr "no se puede obtener √≠ndice de la tabla de la cadena del encabezado de secci√≥n"
+msgstr ""
 
 #: ../src/nm.c:766
 #, fuzzy, c-format
@@ -1114,7 +1107,7 @@ msgstr "no se reconoce el tipo de secci√
 #: ../src/nm.c:1012
 #, c-format
 msgid "%s: entry size in section `%s' is not what we expect"
-msgstr "%s: el tama√±o de la entrada en la secci√≥n `%s' no es el que esper√°bamos "
+msgstr ""
 
 #: ../src/nm.c:1016
 #, fuzzy, c-format
@@ -1148,9 +1141,8 @@ msgid "Display the ELF file header"
 msgstr "encabezado del fichero BFD versi√≥n %s\n"
 
 #: ../src/readelf.c:77
-#, fuzzy
 msgid "Display histogram of bucket list lengths"
-msgstr "Muestra histograma de la longitud de las listas de almacenamiento"
+msgstr ""
 
 #: ../src/readelf.c:78
 #, fuzzy
@@ -1182,9 +1174,8 @@ msgid "Display versioning information"
 msgstr "Mostrar la informaci√≥n de la versi√≥n."
 
 #: ../src/readelf.c:86
-#, fuzzy
 msgid "Display DWARF section content.  SECTION can be one of abbrev, aranges, frame, info, loc, line, ranges, pubnames, str, macinfo, or exception"
-msgstr "Muestra el contenido de la seccion DWARF. SECTION puede ser algo de lo siguiente: abbrev, aranges, frame, info, loc, line, ranges, pubnames, str, macinfo, or exception"
+msgstr ""
 
 #: ../src/readelf.c:89
 #, fuzzy
@@ -1193,11 +1184,11 @@ msgstr "_Ocultar notas"
 
 #: ../src/readelf.c:91
 msgid "Display architecture specific information (if any)"
-msgstr "Muestra informaci√≥n espec√≠fica de la arquitectura (si es que hubiera)"
+msgstr ""
 
 #: ../src/readelf.c:93
 msgid "Dump the uninterpreted contents of SECTION, by number or name"
-msgstr "Descarga los contenidos no interpretados de SECTION, por nombre o n√∫mero"
+msgstr ""
 
 #: ../src/readelf.c:95
 #, fuzzy
@@ -1222,7 +1213,7 @@ msgstr "Control del resultado:"
 #. Short description of program.
 #: ../src/readelf.c:108
 msgid "Print information from ELF file in human-readable form."
-msgstr "Imprime informaci√≥n desde el archivo ELF en una forma comprensible para los seres humanos. "
+msgstr ""
 
 #. Strings for arguments in help texts.
 #: ../src/readelf.c:112
@@ -1265,7 +1256,7 @@ msgstr "no se puede crear un descriptor 
 #: ../src/readelf.c:460
 #, c-format
 msgid "'%s' is not an archive, cannot print archive index"
-msgstr "'%s' no es un archivo, no se puede imprimir √≠ndice de archivo"
+msgstr ""
 
 #: ../src/readelf.c:465
 #, fuzzy, c-format
@@ -1439,22 +1430,22 @@ msgstr "%s (%s bytes)"
 #: ../src/readelf.c:769
 #, c-format
 msgid "  Size of program header entries:    %<PRId16> %s\n"
-msgstr "  Tama√±o de las entradas en el encabezado del programa:    %<PRId16> %s\n"
+msgstr ""
 
 #: ../src/readelf.c:772
 #, c-format
 msgid "  Number of program headers entries: %<PRId16>\n"
-msgstr "  Cantidad de entradas en los encabezados del programa: %<PRId16>\n"
+msgstr ""
 
 #: ../src/readelf.c:775
 #, c-format
 msgid "  Size of section header entries:    %<PRId16> %s\n"
-msgstr "  Tama√±o de las entradas en el encabezado de secci√≥n:    %<PRId16> %s\n"
+msgstr ""
 
 #: ../src/readelf.c:778
 #, c-format
 msgid "  Number of section headers entries: %<PRId16>"
-msgstr "  Cantidad de entradas en los encabezados de secci√≥n: %<PRId16>"
+msgstr ""
 
 #: ../src/readelf.c:785
 #, fuzzy, c-format
@@ -1517,7 +1508,7 @@ msgstr "%s: no se puede encontrar la sec
 
 #: ../src/readelf.c:871
 #: ../src/readelf.c:1025
-#: ../src/readelf.c:7343
+#: ../src/readelf.c:7336
 #: ../src/unstrip.c:352
 #: ../src/unstrip.c:376
 #: ../src/unstrip.c:426
@@ -1914,140 +1905,140 @@ msgstr[1] ""
 msgid "       Library                       Time Stamp          Checksum Version Flags"
 msgstr ""
 
-#: ../src/readelf.c:2832
+#: ../src/readelf.c:2830
 #, c-format
 msgid ""
 "\n"
 "Object attributes section [%2zu] '%s' of %<PRIu64> bytes at offset %#0<PRIx64>:\n"
 msgstr ""
 
-#: ../src/readelf.c:2848
+#: ../src/readelf.c:2846
 #, fuzzy
 msgid "  Owner          Size\n"
 msgstr "  Prop\t\tTama√±o datos\tDescripci√≥n\n"
 
-#: ../src/readelf.c:2874
+#: ../src/readelf.c:2872
 #, fuzzy, c-format
 msgid "  %-13s  %4<PRIu32>\n"
 msgstr "Pedido de servidor desconocida %<PRIu32>"
 
-#: ../src/readelf.c:2906
+#: ../src/readelf.c:2903
 #, fuzzy, c-format
 msgid "    %-4u %12<PRIu32>\n"
 msgstr "12 x 11 in"
 
 #. Tag_File
-#: ../src/readelf.c:2911
+#: ../src/readelf.c:2908
 #, fuzzy, c-format
 msgid "    File: %11<PRIu32>\n"
 msgstr "10 x 11 in"
 
-#: ../src/readelf.c:2946
+#: ../src/readelf.c:2943
 #, c-format
 msgid "      %s: %<PRId64>, %s\n"
 msgstr "      %s: %<PRId64>, %s\n"
 
-#: ../src/readelf.c:2949
+#: ../src/readelf.c:2946
 #, c-format
 msgid "      %s: %<PRId64>\n"
 msgstr "      %s: %<PRId64>\n"
 
-#: ../src/readelf.c:2952
+#: ../src/readelf.c:2949
 #, c-format
 msgid "      %s: %s\n"
 msgstr "      %s: %s\n"
 
-#: ../src/readelf.c:2959
+#: ../src/readelf.c:2956
 #, c-format
 msgid "      %u: %<PRId64>\n"
 msgstr "      %u: %<PRId64>\n"
 
-#: ../src/readelf.c:2962
+#: ../src/readelf.c:2959
 #, c-format
 msgid "      %u: %s\n"
 msgstr "      %u: %s\n"
 
-#: ../src/readelf.c:2997
+#: ../src/readelf.c:2994
 #, c-format
 msgid "%s+%#<PRIx64> <%s+%#<PRIx64>>"
 msgstr "%s+%#<PRIx64> <%s+%#<PRIx64>>"
 
-#: ../src/readelf.c:3000
+#: ../src/readelf.c:2997
 #, c-format
 msgid "%s+%#0*<PRIx64> <%s+%#<PRIx64>>"
 msgstr "%s+%#0*<PRIx64> <%s+%#<PRIx64>>"
 
-#: ../src/readelf.c:3005
+#: ../src/readelf.c:3002
 #, c-format
 msgid "%#<PRIx64> <%s+%#<PRIx64>>"
 msgstr "%#<PRIx64> <%s+%#<PRIx64>>"
 
-#: ../src/readelf.c:3008
+#: ../src/readelf.c:3005
 #, c-format
 msgid "%#0*<PRIx64> <%s+%#<PRIx64>>"
 msgstr "%#0*<PRIx64> <%s+%#<PRIx64>>"
 
-#: ../src/readelf.c:3014
+#: ../src/readelf.c:3011
 #, c-format
 msgid "%s+%#<PRIx64> <%s>"
 msgstr "%s+%#<PRIx64> <%s>"
 
-#: ../src/readelf.c:3017
+#: ../src/readelf.c:3014
 #, c-format
 msgid "%s+%#0*<PRIx64> <%s>"
 msgstr "%s+%#0*<PRIx64> <%s>"
 
-#: ../src/readelf.c:3021
+#: ../src/readelf.c:3018
 #, c-format
 msgid "%#<PRIx64> <%s>"
 msgstr "%#<PRIx64> <%s>"
 
-#: ../src/readelf.c:3024
+#: ../src/readelf.c:3021
 #, c-format
 msgid "%#0*<PRIx64> <%s>"
 msgstr "%#0*<PRIx64> <%s>"
 
-#: ../src/readelf.c:3029
+#: ../src/readelf.c:3026
 #, c-format
 msgid "%s+%#<PRIx64>"
 msgstr "%s+%#<PRIx64>"
 
-#: ../src/readelf.c:3032
+#: ../src/readelf.c:3029
 #, c-format
 msgid "%s+%#0*<PRIx64>"
 msgstr "%s+%#0*<PRIx64>"
 
-#: ../src/readelf.c:3140
+#: ../src/readelf.c:3137
 #, fuzzy, c-format
 msgid "unknown tag %hx"
 msgstr "l√≠nea %d: etiqueta desconocida: %s\n"
 
-#: ../src/readelf.c:3142
+#: ../src/readelf.c:3139
 #, fuzzy, c-format
 msgid "unknown user tag %hx"
 msgstr "Valor TAG desconocido: %lx"
 
-#: ../src/readelf.c:3352
+#: ../src/readelf.c:3349
 #, fuzzy, c-format
 msgid "unknown attribute %hx"
 msgstr "atributo de secci√≥n '%c' desconocido"
 
-#: ../src/readelf.c:3355
+#: ../src/readelf.c:3352
 #, fuzzy, c-format
 msgid "unknown user attribute %hx"
 msgstr "Nombres de atributos de usuario predeterminados:\n"
 
-#: ../src/readelf.c:3401
+#: ../src/readelf.c:3398
 #, fuzzy, c-format
 msgid "unknown form %<PRIx64>"
 msgstr "Valor FORM desconocido: %lx"
 
-#: ../src/readelf.c:4017
+#: ../src/readelf.c:4014
 #, fuzzy, c-format
 msgid "%*s[%4<PRIuMAX>] %s  <TRUNCATED>\n"
 msgstr "Fichero truncado"
 
-#: ../src/readelf.c:4030
+#: ../src/readelf.c:4027
 #, c-format
 msgid ""
 "\n"
@@ -2055,39 +2046,39 @@ msgid ""
 " [ Code]\n"
 msgstr ""
 
-#: ../src/readelf.c:4037
+#: ../src/readelf.c:4034
 #, c-format
 msgid ""
 "\n"
 "Abbreviation section at offset %<PRIu64>:\n"
 msgstr ""
 
-#: ../src/readelf.c:4050
+#: ../src/readelf.c:4047
 #, fuzzy, c-format
 msgid " *** error while reading abbreviation: %s\n"
 msgstr "Error al leer el disco."
 
-#: ../src/readelf.c:4066
+#: ../src/readelf.c:4063
 #, c-format
 msgid " [%5u] offset: %<PRId64>, children: %s, tag: %s\n"
 msgstr ""
 
-#: ../src/readelf.c:4069
+#: ../src/readelf.c:4066
 #, fuzzy
 msgid "yes"
 msgstr "s√≠"
 
-#: ../src/readelf.c:4069
+#: ../src/readelf.c:4066
 #, fuzzy
 msgid "no"
 msgstr "no"
 
-#: ../src/readelf.c:4105
+#: ../src/readelf.c:4102
 #, c-format
 msgid "cannot get .debug_aranges content: %s"
 msgstr ""
 
-#: ../src/readelf.c:4110
+#: ../src/readelf.c:4107
 #, c-format
 msgid ""
 "\n"
@@ -2098,130 +2089,130 @@ msgid_plural ""
 msgstr[0] ""
 msgstr[1] ""
 
-#: ../src/readelf.c:4140
+#: ../src/readelf.c:4137
 #, c-format
 msgid " [%*zu] ???\n"
 msgstr " [%*zu] ???\n"
 
-#: ../src/readelf.c:4142
+#: ../src/readelf.c:4139
 #, c-format
 msgid " [%*zu] start: %0#*<PRIx64>, length: %5<PRIu64>, CU DIE offset: %6<PRId64>\n"
 msgstr ""
 
-#: ../src/readelf.c:4161
+#: ../src/readelf.c:4158
 #, c-format
 msgid "cannot get .debug_ranges content: %s"
 msgstr ""
 
-#: ../src/readelf.c:4166
-#: ../src/readelf.c:4623
-#: ../src/readelf.c:5272
-#: ../src/readelf.c:5717
-#: ../src/readelf.c:5812
-#: ../src/readelf.c:5984
+#: ../src/readelf.c:4163
+#: ../src/readelf.c:4620
+#: ../src/readelf.c:5265
+#: ../src/readelf.c:5710
+#: ../src/readelf.c:5805
+#: ../src/readelf.c:5977
 #, c-format
 msgid ""
 "\n"
 "DWARF section [%2zu] '%s' at offset %#<PRIx64>:\n"
 msgstr ""
 
-#: ../src/readelf.c:4180
-#: ../src/readelf.c:5731
+#: ../src/readelf.c:4177
+#: ../src/readelf.c:5724
 #, fuzzy, c-format
 msgid " [%6tx]  <INVALID DATA>\n"
 msgstr "%F%P: declaraci√≥n inv√°lida de datos\n"
 
-#: ../src/readelf.c:4202
-#: ../src/readelf.c:5753
+#: ../src/readelf.c:4199
+#: ../src/readelf.c:5746
 #, fuzzy, c-format
 msgid " [%6tx]  base address %s\n"
 msgstr "    %8.8lx %8.8lx %8.8lx (direcci√≥n base)\n"
 
 #. We have an address range entry.
 #. First address range entry in a list.
-#: ../src/readelf.c:4213
+#: ../src/readelf.c:4210
 #, c-format
 msgid " [%6tx]  %s..%s\n"
 msgstr " [%6tx]  %s..%s\n"
 
-#: ../src/readelf.c:4215
+#: ../src/readelf.c:4212
 #, c-format
 msgid "           %s..%s\n"
 msgstr "           %s..%s\n"
 
-#: ../src/readelf.c:4612
-#: ../src/readelf.c:6050
-#: ../src/readelf.c:6152
+#: ../src/readelf.c:4609
+#: ../src/readelf.c:6043
+#: ../src/readelf.c:6145
 #, fuzzy, c-format
 msgid "cannot get %s content: %s"
 msgstr "No se puede obtener el nombre de la m√°quina (hostname)"
 
-#: ../src/readelf.c:4619
+#: ../src/readelf.c:4616
 #, c-format
 msgid ""
 "\n"
 "Call frame information section [%2zu] '%s' at offset %#<PRIx64>:\n"
 msgstr ""
 
-#: ../src/readelf.c:4646
-#: ../src/readelf.c:5306
+#: ../src/readelf.c:4643
+#: ../src/readelf.c:5299
 #, fuzzy, c-format
 msgid "invalid data in section [%zu] '%s'"
 msgstr "La secci√≥n BOUNDS en el archivo no es v√°lida."
 
-#: ../src/readelf.c:4668
+#: ../src/readelf.c:4665
 #, fuzzy, c-format
 msgid ""
 "\n"
 " [%6tx] Zero terminator\n"
 msgstr "terminador de linea desconocido"
 
-#: ../src/readelf.c:4746
+#: ../src/readelf.c:4739
 #, fuzzy
 msgid "FDE address encoding: "
 msgstr "Codificaci√≥n en una sola pasada"
 
-#: ../src/readelf.c:4752
+#: ../src/readelf.c:4745
 #, fuzzy
 msgid "LSDA pointer encoding: "
 msgstr "Codificaci√≥n en una sola pasada"
 
-#: ../src/readelf.c:4797
+#: ../src/readelf.c:4790
 #, fuzzy, c-format
 msgid "invalid augmentation encoding"
 msgstr "especificada una codificaci√≥n inv√°lida"
 
-#: ../src/readelf.c:4868
+#: ../src/readelf.c:4861
 #, fuzzy, c-format
 msgid " (offset: %#<PRIx64>)"
 msgstr "Desplazamiento horizontal"
 
-#: ../src/readelf.c:4875
+#: ../src/readelf.c:4868
 #, fuzzy, c-format
 msgid " (end offset: %#<PRIx64>)"
 msgstr "    Desplaz  Inicio   Fin\n"
 
-#: ../src/readelf.c:4902
+#: ../src/readelf.c:4895
 #, fuzzy, c-format
 msgid "   %-26sLSDA pointer: %#<PRIx64>\n"
 msgstr "\tNombre de la Tabla de Punteros \t\t"
 
-#: ../src/readelf.c:4948
+#: ../src/readelf.c:4941
 #, fuzzy, c-format
 msgid "cannot get attribute code: %s"
 msgstr "No se puede inicializar el c√≥digo de libbonoboui"
 
-#: ../src/readelf.c:4956
+#: ../src/readelf.c:4949
 #, fuzzy, c-format
 msgid "cannot get attribute form: %s"
 msgstr "No se puede a√±adir el atributo SMIMEEncKeyPrefs"
 
-#: ../src/readelf.c:4969
+#: ../src/readelf.c:4962
 #, fuzzy, c-format
 msgid "cannot get attribute value: %s"
 msgstr "No se puede a√±adir el atributo SMIMEEncKeyPrefs"
 
-#: ../src/readelf.c:5151
+#: ../src/readelf.c:5144
 #, c-format
 msgid ""
 "\n"
@@ -2229,44 +2220,44 @@ msgid ""
 " [Offset]\n"
 msgstr ""
 
-#: ../src/readelf.c:5176
+#: ../src/readelf.c:5169
 #, c-format
 msgid ""
 " Compilation unit at offset %<PRIu64>:\n"
 " Version: %<PRIu16>, Abbreviation section offset: %<PRIu64>, Address size: %<PRIu8>, Offset size: %<PRIu8>\n"
 msgstr ""
 
-#: ../src/readelf.c:5194
+#: ../src/readelf.c:5187
 #, c-format
 msgid "cannot get DIE at offset %<PRIu64> in section '%s': %s"
 msgstr ""
 
-#: ../src/readelf.c:5205
+#: ../src/readelf.c:5198
 #, fuzzy, c-format
 msgid "cannot get DIE offset: %s"
 msgstr "%s: no se puede desplazar a la posici√≥n %s"
 
-#: ../src/readelf.c:5213
+#: ../src/readelf.c:5206
 #, c-format
 msgid "cannot get tag of DIE at offset %<PRIu64> in section '%s': %s"
 msgstr ""
 
-#: ../src/readelf.c:5242
+#: ../src/readelf.c:5235
 #, fuzzy, c-format
 msgid "cannot get next DIE: %s\n"
 msgstr "No se puede obtener el nombre oficial de la m√°quina (hostname)"
 
-#: ../src/readelf.c:5249
+#: ../src/readelf.c:5242
 #, fuzzy, c-format
 msgid "cannot get next DIE: %s"
 msgstr "No se puede obtener el nombre oficial de la m√°quina (hostname)"
 
-#: ../src/readelf.c:5284
+#: ../src/readelf.c:5277
 #, fuzzy, c-format
 msgid "cannot get line data section data: %s"
 msgstr "%C: No se puede obtener el contenido de la secci√≥n - excepci√≥n de auto-importaci√≥n\n"
 
-#: ../src/readelf.c:5297
+#: ../src/readelf.c:5290
 #, fuzzy, c-format
 msgid ""
 "\n"
@@ -2274,7 +2265,7 @@ msgid ""
 msgstr "%s: error al escribir en el desplazamiento %s"
 
 #. Print what we got so far.
-#: ../src/readelf.c:5349
+#: ../src/readelf.c:5342
 #, c-format
 msgid ""
 "\n"
@@ -2290,33 +2281,33 @@ msgid ""
 "Opcodes:\n"
 msgstr ""
 
-#: ../src/readelf.c:5368
+#: ../src/readelf.c:5361
 #, c-format
 msgid "invalid data at offset %tu in section [%zu] '%s'"
 msgstr ""
 
-#: ../src/readelf.c:5383
+#: ../src/readelf.c:5376
 #, fuzzy, c-format
 msgid "  [%*<PRIuFAST8>]  %hhu argument\n"
 msgid_plural "  [%*<PRIuFAST8>]  %hhu arguments\n"
 msgstr[0] "argumento inv√°lido en"
 msgstr[1] ""
 
-#: ../src/readelf.c:5391
+#: ../src/readelf.c:5384
 #, fuzzy
 msgid ""
 "\n"
 "Directory table:"
 msgstr "Tabla del Cortafuegos:"
 
-#: ../src/readelf.c:5407
+#: ../src/readelf.c:5400
 msgid ""
 "\n"
 "File name table:\n"
 " Entry Dir   Time      Size      Name"
 msgstr ""
 
-#: ../src/readelf.c:5436
+#: ../src/readelf.c:5429
 #, fuzzy
 msgid ""
 "\n"
@@ -2325,94 +2316,94 @@ msgstr ""
 "\n"
 " Declaraciones de N√∫mero de L√≠nea:\n"
 
-#: ../src/readelf.c:5497
+#: ../src/readelf.c:5490
 #, c-format
 msgid " special opcode %u: address+%u = %s, line%+d = %zu\n"
 msgstr ""
 
-#: ../src/readelf.c:5517
+#: ../src/readelf.c:5510
 #, fuzzy, c-format
 msgid " extended opcode %u: "
 msgstr "  C√≥digo de operaci√≥n extendido %d: "
 
-#: ../src/readelf.c:5522
+#: ../src/readelf.c:5515
 #, fuzzy
 msgid "end of sequence"
 msgstr ""
 "Fin de la Secuencia\n"
 "\n"
 
-#: ../src/readelf.c:5537
+#: ../src/readelf.c:5530
 #, fuzzy, c-format
 msgid "set address to %s\n"
 msgstr "La direcci√≥n de la secci√≥n %s se estableci√≥ a "
 
-#: ../src/readelf.c:5558
+#: ../src/readelf.c:5551
 #, c-format
 msgid "define new file: dir=%u, mtime=%<PRIu64>, length=%<PRIu64>, name=%s\n"
 msgstr ""
 
 #. Unknown, ignore it.
-#: ../src/readelf.c:5567
+#: ../src/readelf.c:5560
 #, fuzzy
 msgid "unknown opcode"
 msgstr "c√≥digo de operaci√≥n desconocido"
 
 #. Takes no argument.
-#: ../src/readelf.c:5579
+#: ../src/readelf.c:5572
 #, fuzzy
 msgid " copy"
 msgstr "&Copiar"
 
-#: ../src/readelf.c:5589
+#: ../src/readelf.c:5582
 #, fuzzy, c-format
 msgid "advance address by %u to %s\n"
 msgstr "  L√≠nea de Avance por %d para %d\n"
 
-#: ../src/readelf.c:5600
+#: ../src/readelf.c:5593
 #, fuzzy, c-format
 msgid " advance line by constant %d to %<PRId64>\n"
 msgstr "  Avanzar el PC por la constante %lu a 0x%lx\n"
 
-#: ../src/readelf.c:5608
+#: ../src/readelf.c:5601
 #, fuzzy, c-format
 msgid " set file to %<PRIu64>\n"
 msgstr "No se pudieron cambiar permisos del archivo temporal"
 
-#: ../src/readelf.c:5618
+#: ../src/readelf.c:5611
 #, fuzzy, c-format
 msgid " set column to %<PRIu64>\n"
 msgstr "  Establecer la columna a %lu\n"
 
-#: ../src/readelf.c:5625
+#: ../src/readelf.c:5618
 #, fuzzy, c-format
 msgid " set '%s' to %<PRIuFAST8>\n"
 msgstr "<I>%s</I> fijo los modos del usuario <I>%s</I> a: %s"
 
 #. Takes no argument.
-#: ../src/readelf.c:5631
+#: ../src/readelf.c:5624
 #, fuzzy
 msgid " set basic block flag"
 msgstr "\t%d registro de cuenta de bloques b√°sicos\n"
 
-#: ../src/readelf.c:5641
+#: ../src/readelf.c:5634
 #, fuzzy, c-format
 msgid "advance address by constant %u to %s\n"
 msgstr "  Avanzar el PC por %lu para %lx\n"
 
-#: ../src/readelf.c:5657
+#: ../src/readelf.c:5650
 #, c-format
 msgid "advance address by fixed value %u to %s\n"
 msgstr ""
 
 #. Takes no argument.
-#: ../src/readelf.c:5666
+#: ../src/readelf.c:5659
 #, fuzzy
 msgid " set prologue end flag"
 msgstr "  Establecer prologue_end a true\n"
 
 #. Takes no argument.
-#: ../src/readelf.c:5671
+#: ../src/readelf.c:5664
 #, fuzzy
 msgid " set epilogue begin flag"
 msgstr "  Establecer epilogue_begin a true\n"
@@ -2420,45 +2411,45 @@ msgstr "  Establecer epilogue_begin a tr
 #. This is a new opcode the generator but not we know about.
 #. Read the parameters associated with it but then discard
 #. everything.  Read all the parameters for this opcode.
-#: ../src/readelf.c:5680
+#: ../src/readelf.c:5673
 #, c-format
 msgid " unknown opcode with %<PRIu8> parameter:"
 msgid_plural " unknown opcode with %<PRIu8> parameters:"
 msgstr[0] ""
 msgstr[1] ""
 
-#: ../src/readelf.c:5712
+#: ../src/readelf.c:5705
 #, c-format
 msgid "cannot get .debug_loc content: %s"
 msgstr ""
 
 #. First entry in a list.
-#: ../src/readelf.c:5767
+#: ../src/readelf.c:5760
 #, c-format
 msgid " [%6tx]  %s..%s"
 msgstr " [%6tx]  %s..%s"
 
-#: ../src/readelf.c:5769
+#: ../src/readelf.c:5762
 #, c-format
 msgid "           %s..%s"
 msgstr "           %s..%s"
 
-#: ../src/readelf.c:5822
+#: ../src/readelf.c:5815
 #, c-format
 msgid "cannot get macro information section data: %s"
 msgstr ""
 
-#: ../src/readelf.c:5901
+#: ../src/readelf.c:5894
 #, c-format
 msgid "%*s*** non-terminated string at end of section"
 msgstr ""
 
-#: ../src/readelf.c:5969
+#: ../src/readelf.c:5962
 #, c-format
 msgid " [%5d] DIE offset: %6<PRId64>, CU DIE offset: %6<PRId64>, name: %s\n"
 msgstr ""
 
-#: ../src/readelf.c:6008
+#: ../src/readelf.c:6001
 #, c-format
 msgid ""
 "\n"
@@ -2466,48 +2457,48 @@ msgid ""
 " %*s  String\n"
 msgstr ""
 
-#: ../src/readelf.c:6022
+#: ../src/readelf.c:6015
 #, fuzzy, c-format
 msgid " *** error while reading strings: %s\n"
 msgstr "Error al leer el disco."
 
-#: ../src/readelf.c:6042
+#: ../src/readelf.c:6035
 #, c-format
 msgid ""
 "\n"
 "Call frame search table section [%2zu] '.eh_frame_hdr':\n"
 msgstr ""
 
-#: ../src/readelf.c:6144
+#: ../src/readelf.c:6137
 #, c-format
 msgid ""
 "\n"
 "Exception handling table section [%2zu] '.gcc_except_table':\n"
 msgstr ""
 
-#: ../src/readelf.c:6167
+#: ../src/readelf.c:6160
 #, fuzzy, c-format
 msgid " LPStart encoding:    %#x "
 msgstr ": codificaci√≥n desconocida"
 
-#: ../src/readelf.c:6179
+#: ../src/readelf.c:6172
 #, fuzzy, c-format
 msgid " TType encoding:      %#x "
 msgstr ": codificaci√≥n desconocida"
 
-#: ../src/readelf.c:6193
+#: ../src/readelf.c:6186
 #, fuzzy, c-format
 msgid " Call site encoding:  %#x "
 msgstr "Codificaci√≥n en una sola pasada"
 
-#: ../src/readelf.c:6206
+#: ../src/readelf.c:6199
 #, fuzzy
 msgid ""
 "\n"
 " Call site table:"
 msgstr "[<tipo>:][<tabla>:]<nombre_de_archivo>"
 
-#: ../src/readelf.c:6220
+#: ../src/readelf.c:6213
 #, c-format
 msgid ""
 " [%4u] Call site start:   %#<PRIx64>\n"
@@ -2516,146 +2507,142 @@ msgid ""
 "        Action:            %u\n"
 msgstr ""
 
-#: ../src/readelf.c:6280
+#: ../src/readelf.c:6273
 #, fuzzy, c-format
 msgid "invalid TType encoding"
 msgstr "especificada una codificaci√≥n inv√°lida"
 
-#: ../src/readelf.c:6303
+#: ../src/readelf.c:6296
 #, c-format
 msgid "cannot get debug context descriptor: %s"
 msgstr ""
 
-#: ../src/readelf.c:6438
-#: ../src/readelf.c:7016
+#: ../src/readelf.c:6431
+#: ../src/readelf.c:7009
 #, c-format
 msgid "cannot convert core note data: %s"
 msgstr ""
 
-#: ../src/readelf.c:6743
+#: ../src/readelf.c:6736
 #, fuzzy, c-format
 msgid ""
 "\n"
 "%*s... <repeats %u more times> ..."
 msgstr "Mostrar horas del d√≠a."
 
-#: ../src/readelf.c:6785
+#: ../src/readelf.c:6778
 #, fuzzy, c-format
 msgid "unable to handle register number %d"
 msgstr "No se puede asignar un n√∫mero de partici√≥n."
 
-#: ../src/readelf.c:6932
-#, fuzzy, c-format
-msgid "cannot get register info: %s"
-msgstr "No se pudo registrar el servicio"
-
-#: ../src/readelf.c:6956
+#: ../src/readelf.c:6925
+#: ../src/readelf.c:6949
 #, fuzzy, c-format
 msgid "cannot register info: %s"
 msgstr "No se pudo registrar el servicio"
 
-#: ../src/readelf.c:7114
+#: ../src/readelf.c:7107
 #, fuzzy
 msgid "  Owner          Data size  Type\n"
 msgstr "Escribir un tama√±o en puntos."
 
-#: ../src/readelf.c:7132
+#: ../src/readelf.c:7125
 #, fuzzy, c-format
 msgid "  %-13.*s  %9<PRId32>  %s\n"
 msgstr "13 lugares"
 
-#: ../src/readelf.c:7163
+#: ../src/readelf.c:7156
 #, fuzzy, c-format
 msgid "cannot get content of note section: %s"
 msgstr "%C: No se puede obtener el contenido de la secci√≥n - excepci√≥n de auto-importaci√≥n\n"
 
-#: ../src/readelf.c:7190
+#: ../src/readelf.c:7183
 #, c-format
 msgid ""
 "\n"
 "Note section [%2zu] '%s' of %<PRIu64> bytes at offset %#0<PRIx64>:\n"
 msgstr ""
 
-#: ../src/readelf.c:7213
+#: ../src/readelf.c:7206
 #, c-format
 msgid ""
 "\n"
 "Note segment of %<PRIu64> bytes at offset %#0<PRIx64>:\n"
 msgstr ""
 
-#: ../src/readelf.c:7259
+#: ../src/readelf.c:7252
 #, c-format
 msgid ""
 "\n"
 "Section [%Zu] '%s' has no data to dump.\n"
 msgstr ""
 
-#: ../src/readelf.c:7265
-#: ../src/readelf.c:7287
+#: ../src/readelf.c:7258
+#: ../src/readelf.c:7280
 #, c-format
 msgid "cannot get data for section [%Zu] '%s': %s"
 msgstr ""
 
-#: ../src/readelf.c:7269
+#: ../src/readelf.c:7262
 #, c-format
 msgid ""
 "\n"
 "Hex dump of section [%Zu] '%s', %<PRIu64> bytes at offset %#0<PRIx64>:\n"
 msgstr ""
 
-#: ../src/readelf.c:7282
+#: ../src/readelf.c:7275
 #, fuzzy, c-format
 msgid ""
 "\n"
 "Section [%Zu] '%s' is empty.\n"
 msgstr " La historia de √≥rdenes est√° vac√≠a "
 
-#: ../src/readelf.c:7291
+#: ../src/readelf.c:7284
 #, c-format
 msgid ""
 "\n"
 "String section [%Zu] '%s' contains %<PRIu64> bytes at offset %#0<PRIx64>:\n"
 msgstr ""
 
-#: ../src/readelf.c:7338
+#: ../src/readelf.c:7331
 #, fuzzy, c-format
 msgid ""
 "\n"
 "section [%lu] does not exist"
 msgstr "El anclaje HTML %s no existe."
 
-#: ../src/readelf.c:7364
+#: ../src/readelf.c:7357
 #, fuzzy, c-format
 msgid ""
 "\n"
 "section '%s' does not exist"
 msgstr ": ¬°el archivo no existe!"
 
-#: ../src/readelf.c:7425
+#: ../src/readelf.c:7418
 #, fuzzy, c-format
 msgid "cannot get symbol index of archive '%s': %s"
 msgstr "%s: no se pueden obtener las direcciones del archivo"
 
-#: ../src/readelf.c:7428
+#: ../src/readelf.c:7421
 #, fuzzy, c-format
 msgid ""
 "\n"
 "Archive '%s' has no symbol index\n"
 msgstr "la directiva .ent no tiene s√≠mbolo"
 
-#: ../src/readelf.c:7432
+#: ../src/readelf.c:7425
 #, c-format
 msgid ""
 "\n"
 "Index of archive '%s' has %Zu entries:\n"
 msgstr ""
 
-#: ../src/readelf.c:7450
+#: ../src/readelf.c:7443
 #, c-format
 msgid "cannot extract member at offset %Zu in '%s': %s"
 msgstr ""
 
-#: ../src/readelf.c:7455
+#: ../src/readelf.c:7448
 #, fuzzy, c-format
 msgid "Archive member '%s' contains:\n"
 msgstr "Comprueba si el archivador contiene errores"
@@ -2828,68 +2815,68 @@ msgstr "%s: no se puede crear un nuevo f
 msgid "illformed file '%s'"
 msgstr "Error de archivo"
 
-#: ../src/strip.c:868
-#: ../src/strip.c:955
+#: ../src/strip.c:867
+#: ../src/strip.c:954
 #, fuzzy, c-format
 msgid "while generating output file: %s"
 msgstr "error al cerrar el fichero de salida"
 
-#: ../src/strip.c:928
-#: ../src/strip.c:1667
+#: ../src/strip.c:927
+#: ../src/strip.c:1666
 #, fuzzy, c-format
 msgid "%s: error while creating ELF header: %s"
 msgstr "Error al crear el enlace hacia %B."
 
-#: ../src/strip.c:942
+#: ../src/strip.c:941
 #, fuzzy, c-format
 msgid "while preparing output for '%s'"
 msgstr "no se puede abrir `%s' para salida: %s"
 
-#: ../src/strip.c:993
-#: ../src/strip.c:1049
+#: ../src/strip.c:992
+#: ../src/strip.c:1048
 #, fuzzy, c-format
 msgid "while create section header section: %s"
 msgstr "no se puede crear el encabezado precompilado %s: %m"
 
-#: ../src/strip.c:999
+#: ../src/strip.c:998
 #, fuzzy, c-format
 msgid "cannot allocate section data: %s"
 msgstr "no se puede asignar espacio para los datos del s√≠mbolo"
 
-#: ../src/strip.c:1058
+#: ../src/strip.c:1057
 #, fuzzy, c-format
 msgid "while create section header string table: %s"
 msgstr "fall√≥ la asignaci√≥n de la tabla de cadenas de cabeceras de secci√≥n"
 
-#: ../src/strip.c:1592
-#: ../src/strip.c:1689
+#: ../src/strip.c:1591
+#: ../src/strip.c:1688
 #, fuzzy, c-format
 msgid "while writing '%s': %s"
 msgstr "%s: al escribir el resultado %s: %m:"
 
-#: ../src/strip.c:1603
+#: ../src/strip.c:1602
 #, fuzzy, c-format
 msgid "while creating '%s'"
 msgstr "Error al crear thread"
 
-#: ../src/strip.c:1615
+#: ../src/strip.c:1614
 #, c-format
 msgid "while computing checksum for debug information"
 msgstr ""
 
-#: ../src/strip.c:1675
+#: ../src/strip.c:1674
 #, fuzzy, c-format
 msgid "%s: error while reading the file: %s"
 msgstr "Error al leer archivo."
 
-#: ../src/strip.c:1721
-#: ../src/strip.c:1728
+#: ../src/strip.c:1720
+#: ../src/strip.c:1727
 #, fuzzy, c-format
 msgid "error while finishing '%s': %s"
 msgstr "Error al copiar ¬´%B¬ª."
 
-#: ../src/strip.c:1751
-#: ../src/strip.c:1808
+#: ../src/strip.c:1750
+#: ../src/strip.c:1807
 #, c-format
 msgid "cannot set access and modification date of '%s'"
 msgstr ""
@@ -5184,37 +5171,33 @@ msgstr "Mostrar los nombres de las √°rea
 msgid "Also show symbol or section names"
 msgstr ""
 
-#: ../src/addr2line.c:73
-msgid "Treat addresses as offsets relative to NAME section."
-msgstr ""
-
 #. Short description of program.
-#: ../src/addr2line.c:84
+#: ../src/addr2line.c:82
 msgid "Locate source files and line information for ADDRs (in a.out by default)."
 msgstr ""
 
 #. Strings for arguments in help texts.
-#: ../src/addr2line.c:88
+#: ../src/addr2line.c:86
 #, fuzzy
 msgid "[ADDR...]"
 msgstr " Dir: "
 
-#: ../src/addr2line.c:405
+#: ../src/addr2line.c:387
 #, c-format
 msgid "Section syntax requires exactly one module"
 msgstr ""
 
-#: ../src/addr2line.c:428
+#: ../src/addr2line.c:410
 #, c-format
 msgid "offset %#<PRIxMAX> lies outside section '%s'"
 msgstr ""
 
-#: ../src/addr2line.c:461
+#: ../src/addr2line.c:428
 #, fuzzy, c-format
 msgid "cannot find symbol '%s'"
 msgstr "no se puede encontrar el preprocesador de C: %s \n"
 
-#: ../src/addr2line.c:466
+#: ../src/addr2line.c:433
 #, c-format
 msgid "offset %#<PRIxMAX> lies outside contents of '%s'"
 msgstr ""
--- elfutils/src/addr2line.c
+++ elfutils/src/addr2line.c
@@ -447,10 +447,10 @@ handle_address (const char *string, Dwfl
       bool parsed = false;
       int n;
       char *name = NULL;
-      if (sscanf (string, "(%m[^)])%" PRIiMAX "%n", &name, &addr, &n) == 2
+      if (sscanf (string, "(%a[^)])%" PRIiMAX "%n", &name, &addr, &n) == 2
 	  && string[n] == '\0')
 	parsed = adjust_to_section (name, &addr, dwfl);
-      else if (sscanf (string, "%m[^-+]%" PRIiMAX "%n", &name, &addr, &n) == 2
+      else if (sscanf (string, "%a[^-+]%" PRIiMAX "%n", &name, &addr, &n) == 2
 	       && string[n] == '\0')
 	{
 	  /* It was symbol+offset.  */
--- elfutils/src/ChangeLog
+++ elfutils/src/ChangeLog
@@ -91,6 +91,8 @@
 	* readelf.c (print_debug_frame_section): Use t instead of j formats
 	for ptrdiff_t OFFSET.
 
+	* addr2line.c (handle_address): Use %a instead of %m for compatibility.
+
 2009-01-21  Ulrich Drepper  <drepper@redhat.com>
 
 	* elflint.c (check_program_header): Fix typo in .eh_frame_hdr section
@@ -274,6 +276,11 @@
 	that matches its PT_LOAD's p_flags &~ PF_W.  On sparc, PF_X really
 	is valid in RELRO.
 
+2008-03-01  Roland McGrath  <roland@redhat.com>
+
+	* readelf.c (dump_archive_index): Tweak portability hack
+	to match [__GNUC__ < 4] too.
+
 2008-02-29  Roland McGrath  <roland@redhat.com>
 
 	* readelf.c (print_attributes): Add a cast.
@@ -525,6 +532,8 @@
 
 	* readelf.c (hex_dump): Fix rounding error in whitespace calculation.
 
+	* Makefile.am (readelf_no_Werror): New variable.
+
 2007-10-15  Roland McGrath  <roland@redhat.com>
 
 	* make-debug-archive.in: New file.
@@ -964,6 +973,10 @@
 	* elflint.c (valid_e_machine): Add EM_ALPHA.
 	Reported by Christian Aichinger <Greek0@gmx.net>.
 
+	* strings.c (map_file): Define POSIX_MADV_SEQUENTIAL to
+	MADV_SEQUENTIAL if undefined.  	Don't call posix_madvise
+	if neither is defined.
+
 2006-08-08  Ulrich Drepper  <drepper@redhat.com>
 
 	* elflint.c (check_dynamic): Don't require DT_HASH for DT_SYMTAB.
@@ -1040,6 +1053,10 @@
 	* Makefile.am: Add hacks to create dependency files for non-generic
 	linker.
 
+2006-04-05  Roland McGrath  <roland@redhat.com>
+
+	* strings.c (MAP_POPULATE): Define to 0 if undefined.
+
 2006-06-12  Ulrich Drepper  <drepper@redhat.com>
 
 	* ldgeneric.c (ld_generic_generate_sections): Don't create .interp
@@ -1388,6 +1405,11 @@
 	* readelf.c (print_debug_loc_section): Fix indentation for larger
 	address size.
 
+2005-05-31  Roland McGrath  <roland@redhat.com>
+
+	* Makefile.am (WEXTRA): New variable, substituted by configure.
+	(AM_CFLAGS): Use it in place of -Wextra.
+
 2005-05-30  Roland McGrath  <roland@redhat.com>
 
 	* readelf.c (print_debug_line_section): Print section offset of each
--- elfutils/src/findtextrel.c
+++ elfutils/src/findtextrel.c
@@ -490,7 +490,11 @@ ptrcompare (const void *p1, const void *
 
 
 static void
-check_rel (size_t nsegments, struct segments segments[nsegments],
+check_rel (size_t nsegments, struct segments segments[
+#if __GNUC__ >= 4
+						      nsegments
+#endif
+	   ],
 	   GElf_Addr addr, Elf *elf, Elf_Scn *symscn, Dwarf *dw,
 	   const char *fname, bool more_than_one, void **knownsrcs)
 {
--- elfutils/src/Makefile.am
+++ elfutils/src/Makefile.am
@@ -26,6 +26,7 @@
 ##
 DEFS = -D_GNU_SOURCE -DHAVE_CONFIG_H $(YYDEBUG) -DDEBUGPRED=@DEBUGPRED@ \
        -DSRCDIR=\"$(shell cd $(srcdir);pwd)\" -DOBJDIR=\"$(shell pwd)\"
+WEXTRA = @WEXTRA@
 if MUDFLAP
 AM_CFLAGS = -fmudflap
 else
@@ -33,7 +34,7 @@ AM_CFLAGS =
 endif
 AM_CFLAGS += -Wall -Wshadow -std=gnu99 $(native_ld_cflags) \
 	     $(if $($(*F)_no_Werror),,-Werror) \
-	     $(if $($(*F)_no_Wunused),,-Wunused -Wextra) \
+	     $(if $($(*F)_no_Wunused),,-Wunused $(WEXTRA)) \
 	     $(if $($(*F)_no_Wformat),-Wno-format,-Wformat=2) $(CFLAGS_$(*F))
 
 INCLUDES = -I$(srcdir) -I$(srcdir)/../libelf -I$(srcdir)/../libebl \
@@ -112,6 +113,9 @@ addr2line_no_Wformat = yes
 # XXX While the file is not finished, don't warn about this
 ldgeneric_no_Wunused = yes
 
+# Buggy old compilers.
+readelf_no_Werror = yes
+
 readelf_LDADD = $(libdw) $(libebl) $(libelf) $(libeu) $(libmudflap) -ldl
 nm_LDADD = $(libdw) $(libebl) $(libelf) $(libeu) $(libmudflap) -ldl
 size_LDADD = $(libelf) $(libeu) $(libmudflap)
--- elfutils/src/Makefile.in
+++ elfutils/src/Makefile.in
@@ -202,6 +202,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
@@ -231,6 +232,7 @@ SHELL = @SHELL@
 STRIP = @STRIP@
 USE_NLS = @USE_NLS@
 VERSION = @VERSION@
+WEXTRA = @WEXTRA@
 XGETTEXT = @XGETTEXT@
 XGETTEXT_015 = @XGETTEXT_015@
 YACC = @YACC@ -d
@@ -291,13 +293,13 @@ zip_LIBS = @zip_LIBS@
 @MUDFLAP_FALSE@AM_CFLAGS = -Wall -Wshadow -std=gnu99 \
 @MUDFLAP_FALSE@	$(native_ld_cflags) $(if \
 @MUDFLAP_FALSE@	$($(*F)_no_Werror),,-Werror) $(if \
-@MUDFLAP_FALSE@	$($(*F)_no_Wunused),,-Wunused -Wextra) $(if \
+@MUDFLAP_FALSE@	$($(*F)_no_Wunused),,-Wunused $(WEXTRA)) $(if \
 @MUDFLAP_FALSE@	$($(*F)_no_Wformat),-Wno-format,-Wformat=2) \
 @MUDFLAP_FALSE@	$(CFLAGS_$(*F))
 @MUDFLAP_TRUE@AM_CFLAGS = -fmudflap -Wall -Wshadow -std=gnu99 \
 @MUDFLAP_TRUE@	$(native_ld_cflags) $(if \
 @MUDFLAP_TRUE@	$($(*F)_no_Werror),,-Werror) $(if \
-@MUDFLAP_TRUE@	$($(*F)_no_Wunused),,-Wunused -Wextra) $(if \
+@MUDFLAP_TRUE@	$($(*F)_no_Wunused),,-Wunused $(WEXTRA)) $(if \
 @MUDFLAP_TRUE@	$($(*F)_no_Wformat),-Wno-format,-Wformat=2) \
 @MUDFLAP_TRUE@	$(CFLAGS_$(*F))
 INCLUDES = -I$(srcdir) -I$(srcdir)/../libelf -I$(srcdir)/../libebl \
@@ -343,6 +345,9 @@ strings_no_Wformat = yes
 addr2line_no_Wformat = yes
 # XXX While the file is not finished, don't warn about this
 ldgeneric_no_Wunused = yes
+
+# Buggy old compilers.
+readelf_no_Werror = yes
 readelf_LDADD = $(libdw) $(libebl) $(libelf) $(libeu) $(libmudflap) -ldl
 nm_LDADD = $(libdw) $(libebl) $(libelf) $(libeu) $(libmudflap) -ldl
 size_LDADD = $(libelf) $(libeu) $(libmudflap)
--- elfutils/src/readelf.c
+++ elfutils/src/readelf.c
@@ -7443,7 +7443,7 @@ dump_archive_index (Elf *elf, const char
 	  if (unlikely (elf_rand (elf, as_off) == 0)
 	      || unlikely ((subelf = elf_begin (-1, ELF_C_READ_MMAP, elf))
 			   == NULL))
-#if __GLIBC__ < 2 || (__GLIBC__ == 2 && __GLIBC_MINOR__ < 7)
+#if __GLIBC__ < 2 || (__GLIBC__ == 2 && __GLIBC_MINOR__ < 7) || __GNUC__ < 4
 	    while (1)
 #endif
 	      error (EXIT_FAILURE, 0,
--- elfutils/src/strings.c
+++ elfutils/src/strings.c
@@ -51,6 +51,10 @@
 
 #include <system.h>
 
+#ifndef MAP_POPULATE
+# define MAP_POPULATE 0
+#endif
+
 
 /* Prototypes of local functions.  */
 static int read_fd (int fd, const char *fname, off64_t fdlen);
@@ -491,8 +495,13 @@ map_file (int fd, off64_t start_off, off
 		    fd, start_off);
       if (mem != MAP_FAILED)
 	{
+#if !defined POSIX_MADV_SEQUENTIAL && defined MADV_SEQUENTIAL
+# define POSIX_MADV_SEQUENTIAL MADV_SEQUENTIAL
+#endif
+#ifdef POSIX_MADV_SEQUENTIAL
 	  /* We will go through the mapping sequentially.  */
 	  (void) posix_madvise (mem, map_size, POSIX_MADV_SEQUENTIAL);
+#endif
 	  break;
 	}
       if (errno != EINVAL && errno != ENOMEM)
--- elfutils/src/strip.c
+++ elfutils/src/strip.c
@@ -52,6 +52,12 @@
 #include <libebl.h>
 #include <system.h>
 
+#ifdef HAVE_FUTIMES
+# define FUTIMES(fd, fname, tvp) futimes (fd, tvp)
+#else
+# define FUTIMES(fd, fname, tvp) utimes (fname, tvp)
+#endif
+
 
 /* Name and version of program.  */
 static void print_version (FILE *stream, struct argp_state *state);
@@ -300,8 +306,18 @@ process_file (const char *fname)
 
       /* If we have to preserve the timestamp, we need it in the
 	 format utimes() understands.  */
+#ifdef HAVE_STRUCT_STAT_ST_ATIM
       TIMESPEC_TO_TIMEVAL (&tv[0], &pre_st.st_atim);
+#else
+      tv[0].tv_sec = pre_st.st_atime;
+      tv[0].tv_usec = 0;
+#endif
+#ifdef HAVE_STRUCT_STAT_ST_MTIM
       TIMESPEC_TO_TIMEVAL (&tv[1], &pre_st.st_mtim);
+#else
+      tv[1].tv_sec = pre_st.st_atime;
+      tv[1].tv_usec = 0;
+#endif
     }
 
   /* Open the file.  */
@@ -1746,7 +1762,7 @@ handle_elf (int fd, Elf *elf, const char
   /* If requested, preserve the timestamp.  */
   if (tvp != NULL)
     {
-      if (futimes (fd, tvp) != 0)
+      if (FUTIMES (fd, output_fname, tvp) != 0)
 	{
 	  error (0, errno, gettext ("\
 cannot set access and modification date of '%s'"),
@@ -1803,7 +1819,7 @@ handle_ar (int fd, Elf *elf, const char 
 
   if (tvp != NULL)
     {
-      if (unlikely (futimes (fd, tvp) != 0))
+      if (unlikely (FUTIMES (fd, fname, tvp) != 0))
 	{
 	  error (0, errno, gettext ("\
 cannot set access and modification date of '%s'"), fname);
--- elfutils/tests/ChangeLog
+++ elfutils/tests/ChangeLog
@@ -106,6 +106,8 @@
 
 2008-01-21  Roland McGrath  <roland@redhat.com>
 
+	* line2addr.c (main): Revert last change.
+
 	* testfile45.S.bz2: Add tests for cltq, cqto.
 	* testfile45.expect.bz2: Adjust.
 
@@ -814,6 +816,11 @@
 	* Makefile.am (TESTS): Add run-elflint-test.sh.
 	(EXTRA_DIST): Add run-elflint-test.sh and testfile18.bz2.
 
+2005-05-31  Roland McGrath  <roland@redhat.com>
+
+	* Makefile.am (WEXTRA): New variable, substituted by configure.
+	(AM_CFLAGS): Use it in place of -Wextra.
+
 2005-05-24  Ulrich Drepper  <drepper@redhat.com>
 
 	* get-files.c (main): Use correct format specifier.
--- elfutils/tests/line2addr.c
+++ elfutils/tests/line2addr.c
@@ -132,7 +132,7 @@ main (int argc, char *argv[])
     {
       struct args a = { .arg = argv[cnt] };
 
-      switch (sscanf (a.arg, "%m[^:]:%d", &a.file, &a.line))
+      switch (sscanf (a.arg, "%a[^:]:%d", &a.file, &a.line))
 	{
 	default:
 	case 0:
--- elfutils/tests/Makefile.am
+++ elfutils/tests/Makefile.am
@@ -25,12 +25,13 @@
 ## <http://www.openinventionnetwork.com>.
 ##
 DEFS = -DHAVE_CONFIG_H -D_GNU_SOURCE
+WEXTRA = @WEXTRA@
 if MUDFLAP
-AM_CFLAGS = -Wall -Werror -Wextra -std=gnu99 -fmudflap\
+AM_CFLAGS = -Wall -Werror $(WEXTRA) -std=gnu99 -fmudflap\
 	    $(if $($(*F)_no_Wformat),-Wno-format,-Wformat=2)
 BUILD_RPATH = \$$ORIGIN/../backends
 else
-AM_CFLAGS = -Wall -Werror -Wextra -std=gnu99 \
+AM_CFLAGS = -Wall -Werror $(WEXTRA) -std=gnu99 \
 	    $(if $($(*F)_no_Wformat),-Wno-format,-Wformat=2)
 BUILT_RPATH = \$$ORIGIN/../libasm:\$$ORIGIN/../libdw:\$$ORIGIN/../backends:\$$ORIGIN/../libelf
 endif
--- elfutils/tests/Makefile.in
+++ elfutils/tests/Makefile.in
@@ -343,6 +343,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
+LD_AS_NEEDED = @LD_AS_NEEDED@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
@@ -372,6 +373,7 @@ SHELL = @SHELL@
 STRIP = @STRIP@
 USE_NLS = @USE_NLS@
 VERSION = @VERSION@
+WEXTRA = @WEXTRA@
 XGETTEXT = @XGETTEXT@
 XGETTEXT_015 = @XGETTEXT_015@
 YACC = @YACC@
@@ -429,10 +431,10 @@ top_build_prefix = @top_build_prefix@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
 zip_LIBS = @zip_LIBS@
-@MUDFLAP_FALSE@AM_CFLAGS = -Wall -Werror -Wextra -std=gnu99 \
+@MUDFLAP_FALSE@AM_CFLAGS = -Wall -Werror $(WEXTRA) -std=gnu99 \
 @MUDFLAP_FALSE@	    $(if $($(*F)_no_Wformat),-Wno-format,-Wformat=2)
 
-@MUDFLAP_TRUE@AM_CFLAGS = -Wall -Werror -Wextra -std=gnu99 -fmudflap\
+@MUDFLAP_TRUE@AM_CFLAGS = -Wall -Werror $(WEXTRA) -std=gnu99 -fmudflap\
 @MUDFLAP_TRUE@	    $(if $($(*F)_no_Wformat),-Wno-format,-Wformat=2)
 
 @MUDFLAP_TRUE@BUILD_RPATH = \$$ORIGIN/../backends
